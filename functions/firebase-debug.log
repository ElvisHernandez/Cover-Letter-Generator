[debug] [2023-10-06T04:12:45.764Z] ----------------------------------------------------------------------
[debug] [2023-10-06T04:12:45.766Z] Command:       /home/elvis/.nvm/versions/node/v18.18.0/bin/node /home/elvis/.nvm/versions/node/v18.18.0/bin/firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data
[debug] [2023-10-06T04:12:45.766Z] CLI Version:   12.6.1
[debug] [2023-10-06T04:12:45.767Z] Platform:      linux
[debug] [2023-10-06T04:12:45.767Z] Node Version:  v18.18.0
[debug] [2023-10-06T04:12:45.767Z] Time:          Fri Oct 06 2023 00:12:45 GMT-0400 (Eastern Daylight Time)
[debug] [2023-10-06T04:12:45.767Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-10-06T04:12:45.837Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-10-06T04:12:45.837Z] > authorizing via signed-in user (authenticdevelopmentcorp@gmail.com)
[debug] [2023-10-06T04:12:45.892Z] openjdk version "11.0.20.1" 2023-08-24

[debug] [2023-10-06T04:12:45.894Z] OpenJDK Runtime Environment (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04)
OpenJDK 64-Bit Server VM (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)

[debug] [2023-10-06T04:12:45.897Z] Parsed Java major version: 11
[info] i  emulators: Starting emulators: auth, functions, database, storage {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, database, storage"}}
[debug] [2023-10-06T04:12:45.902Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"database":[{"address":"127.0.0.1","family":"IPv4","port":9000}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-10-06T04:12:45.908Z] [hub] writing locator at /tmp/hub-cover-letter-generator-8a059.json
[debug] [2023-10-06T04:12:45.913Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"database":[{"address":"127.0.0.1","family":"IPv4","port":9000}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, hosting, pubsub\u001b[22m"}}
[debug] [2023-10-06T04:12:45.916Z] defaultcredentials: writing to file /home/elvis/.config/firebase/authenticdevelopmentcorp_gmail_com_application_default_credentials.json
[debug] [2023-10-06T04:12:45.917Z] Setting GAC to /home/elvis/.config/firebase/authenticdevelopmentcorp_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/elvis/.config/firebase/authenticdevelopmentcorp_gmail_com_application_default_credentials.json"}}
[debug] [2023-10-06T04:12:45.920Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059/adminSdkConfig [none]
[debug] [2023-10-06T04:12:46.327Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059/adminSdkConfig 200
[debug] [2023-10-06T04:12:46.328Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059/adminSdkConfig {"projectId":"cover-letter-generator-8a059","databaseURL":"https://cover-letter-generator-8a059-default-rtdb.firebaseio.com","storageBucket":"cover-letter-generator-8a059.appspot.com","locationId":"us-east1"}
[debug] [2023-10-06T04:12:46.404Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059 [none]
[debug] [2023-10-06T04:12:46.641Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059 200
[debug] [2023-10-06T04:12:46.641Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/cover-letter-generator-8a059 {"projectId":"cover-letter-generator-8a059","projectNumber":"384886873047","displayName":"Cover Letter Generator","name":"projects/cover-letter-generator-8a059","resources":{"hostingSite":"cover-letter-generator-8a059","realtimeDatabaseInstance":"cover-letter-generator-8a059-default-rtdb","storageBucket":"cover-letter-generator-8a059.appspot.com","locationId":"us-east1"},"state":"ACTIVE","etag":"1_8019b1f4-d139-4be6-8abe-b7f9739495bd"}
[debug] [2023-10-06T04:12:46.642Z] database rules config:  [{"instance":"cover-letter-generator-8a059-default-rtdb","rules":"/home/elvis/cover-letter-generator/database.rules.json"}]
[debug] [2023-10-06T04:12:46.645Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2023-10-06T04:12:46.645Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-10-06T04:12:46.645Z] Ignoring unsupported arg: rules {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: rules"}}
[debug] [2023-10-06T04:12:46.645Z] Starting Database Emulator with command {"binary":"java","args":["-Djava.net.preferIPv4Stack=true","-Duser.language=en","-jar","/home/elvis/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar","--host","127.0.0.1","--port",9000,"--single_project_mode","Warning","--functions_emulator_host","127.0.0.1","--functions_emulator_port",5001],"optionalArgs":["port","host","functions_emulator_port","functions_emulator_host","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"database"},"message":"Starting Database Emulator with command {\"binary\":\"java\",\"args\":[\"-Djava.net.preferIPv4Stack=true\",\"-Duser.language=en\",\"-jar\",\"/home/elvis/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",9000,\"--single_project_mode\",\"Warning\",\"--functions_emulator_host\",\"127.0.0.1\",\"--functions_emulator_port\",5001],\"optionalArgs\":[\"port\",\"host\",\"functions_emulator_port\",\"functions_emulator_host\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  database: Database Emulator logging to database-debug.log {"metadata":{"emulator":{"name":"database"},"message":"Database Emulator logging to \u001b[1mdatabase-debug.log\u001b[22m"}}
[debug] [2023-10-06T04:12:47.302Z] WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/home/elvis/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar) to field sun.nio.ch.SelectorImpl.selectedKeys
WARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
 {"metadata":{"emulator":{"name":"database"},"message":"WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/home/elvis/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar) to field sun.nio.ch.SelectorImpl.selectedKeys\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n"}}
[debug] [2023-10-06T04:12:47.913Z] 00:12:47.911 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started
 {"metadata":{"emulator":{"name":"database"},"message":"00:12:47.911 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\n"}}
[debug] [2023-10-06T04:12:48.134Z] 00:12:48.132 [main] INFO com.firebase.server.forge.App$ - Listening at 127.0.0.1:9000
 {"metadata":{"emulator":{"name":"database"},"message":"00:12:48.132 [main] INFO com.firebase.server.forge.App$ - Listening at 127.0.0.1:9000\n"}}
[info] i  database: Importing data from /home/elvis/cover-letter-generator/private/emulator_data/database_export/cover-letter-generator-8a059-default-rtdb.json {"metadata":{"emulator":{"name":"database"},"message":"Importing data from /home/elvis/cover-letter-generator/private/emulator_data/database_export/cover-letter-generator-8a059-default-rtdb.json"}}
[debug] [2023-10-06T04:12:48.807Z] 00:12:48.806 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO com.firebase.core.namespace.NamespaceActor - cover-letter-generator-8a059-default-rtdb successfully activated FBKV (SurveyIdle(0)) wait: 165ms, init: 0ms
 {"metadata":{"emulator":{"name":"database"},"message":"00:12:48.806 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO com.firebase.core.namespace.NamespaceActor - cover-letter-generator-8a059-default-rtdb successfully activated FBKV (SurveyIdle(0)) wait: 165ms, init: 0ms\n"}}
[info] i  auth: Importing config from /home/elvis/cover-letter-generator/private/emulator_data/auth_export/config.json {"metadata":{"emulator":{"name":"auth"},"message":"Importing config from /home/elvis/cover-letter-generator/private/emulator_data/auth_export/config.json"}}
[info] i  auth: Importing accounts from /home/elvis/cover-letter-generator/private/emulator_data/auth_export/accounts.json {"metadata":{"emulator":{"name":"auth"},"message":"Importing accounts from /home/elvis/cover-letter-generator/private/emulator_data/auth_export/accounts.json"}}
[debug] [2023-10-06T04:12:55.537Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"storage"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-10-06T04:12:56.326Z] Temp file directory for storage emulator: /tmp/firebase/storage/blobs {"metadata":{"emulator":{"name":"storage"},"message":"Temp file directory for storage emulator: /tmp/firebase/storage/blobs"}}
[debug] [2023-10-06T04:12:56.333Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-10-06T04:12:56.333Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-10-06T04:12:56.333Z] Starting Emulator UI with command {"binary":"node","args":["/home/elvis/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/elvis/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-10-06T04:12:56.424Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[info] i  functions: Watching "/home/elvis/cover-letter-generator/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/elvis/cover-letter-generator/functions\" for Cloud Functions..."}}
[debug] [2023-10-06T04:12:56.600Z] Validating nodejs source
[debug] [2023-10-06T04:12:57.089Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:12:57.089Z] Building nodejs source
[debug] [2023-10-06T04:12:57.089Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:12:57.092Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:12:57.094Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8338

[debug] [2023-10-06T04:12:57.418Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[info] ✔  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/cover-letter-generator-8a059/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/cover-letter-generator-8a059/us-central1/helloWorld)."}}
[debug] [2023-10-06T04:12:57.436Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/cover-letter-generator-8a059"}}
[info] ✔  functions[us-central1-onAuthUserCreate]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[info] ✔  functions[us-central1-saveOpenAiApiKey]: http function initialized (http://127.0.0.1:5001/cover-letter-generator-8a059/us-central1/saveOpenAiApiKey). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/cover-letter-generator-8a059/us-central1/saveOpenAiApiKey)."}}
[debug] [2023-10-06T04:12:57.437Z] addStorageTrigger {"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"}}
[info] ✔  functions[us-central1-analyzeResumeOnUpload]: storage function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mstorage\u001b[22m function initialized."}}
[debug] [2023-10-06T04:12:57.438Z] >>> [apiv2][query] PUT http://127.0.0.1:9000/.settings/rules.json ns=cover-letter-generator-8a059-default-rtdb
[debug] [2023-10-06T04:12:57.438Z] >>> [apiv2][body] PUT http://127.0.0.1:9000/.settings/rules.json "{\n  \"rules\": {\n    \".read\": true,\n    \".write\": true\n  }\n}\n"
[debug] [2023-10-06T04:12:57.483Z] 00:12:57.483 [NamespaceSystem-blocking-namespace-operation-dispatcher-8] INFO com.firebase.core.namespace.StateManager - Namespace cover-letter-generator-8a059-default-rtdb status Active to Active
 {"metadata":{"emulator":{"name":"database"},"message":"00:12:57.483 [NamespaceSystem-blocking-namespace-operation-dispatcher-8] INFO com.firebase.core.namespace.StateManager - Namespace cover-letter-generator-8a059-default-rtdb status Active to Active\n"}}
[debug] [2023-10-06T04:12:57.494Z] <<< [apiv2][status] PUT http://127.0.0.1:9000/.settings/rules.json 200
[debug] [2023-10-06T04:12:57.494Z] <<< [apiv2][body] PUT http://127.0.0.1:9000/.settings/rules.json {"status":"ok"}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Database       │ 127.0.0.1:9000 │ http://127.0.0.1:4000/database  │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Storage        │ 127.0.0.1:9199 │ http://127.0.0.1:4000/storage   │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-10-06T04:13:17.317Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:13:17.317Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696565597317","timestamp":"2023-10-06T04:13:17.317Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565320453","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:08:40.453Z","updated":"2023-10-06T04:08:40.453Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"1J9lbhkAP6jLili2SMB5v3LK/LY","metadata":{"firebaseStorageDownloadTokens":"bff112a3-29c4-4de5-99f4-fa8a9134487c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:08:40.453Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565320453","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565320453&alt=media"}}
[debug] [2023-10-06T04:13:17.322Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:13:17.322Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:13:17.322Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:13:17.323Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"26f4dbdd-c2a6-4353-a61c-4c958d2f1d85","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:08:40.453Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565320453","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:08:40.453Z","updated":"2023-10-06T04:08:40.453Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"1J9lbhkAP6jLili2SMB5v3LK/LY","metadata":{"firebaseStorageDownloadTokens":"bff112a3-29c4-4de5-99f4-fa8a9134487c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:08:40.453Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565320453","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565320453&alt=media"}}
[debug] [2023-10-06T04:13:17.332Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:13:17.332Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:13:17.338Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:13:17.338Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696565597338","timestamp":"2023-10-06T04:13:17.338Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565597329","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:13:17.329Z","updated":"2023-10-06T04:13:17.329Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"E5Z36Ztx+/sv8+WK20p9ENbiez4","metadata":{"firebaseStorageDownloadTokens":"e1d90817-f0ee-4a7f-8b7d-0df269e56b00"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:13:17.329Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media"}}
[debug] [2023-10-06T04:13:17.341Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:13:17.340Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:13:17.341Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:13:17.340Z"],"workRunningCount":1}
[debug] [2023-10-06T04:13:17.342Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:13:17.343Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:13:17.343Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:13:17.343Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:13:17.343Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"374221f7-559f-4910-ab88-7423fe7ec078","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:13:17.329Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565597329","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:13:17.329Z","updated":"2023-10-06T04:13:17.329Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"E5Z36Ztx+/sv8+WK20p9ENbiez4","metadata":{"firebaseStorageDownloadTokens":"e1d90817-f0ee-4a7f-8b7d-0df269e56b00"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:13:17.329Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media"}}
[debug] [2023-10-06T04:13:17.345Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:13:17.345Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:13:17.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:13:17.345Z"],"workRunningCount":1}
[debug] [2023-10-06T04:13:17.345Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:13:17.346Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:13:17.346Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:13:17.358Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:13:17.359Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:13:17.362Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:13:17.362Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:13:18.195Z] [runtime-status] [27897] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:13:18.195Z] [runtime-status] [27897] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:13:18.197Z] [runtime-status] [27897] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:13:18.197Z] [runtime-status] [27897] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:13:18.197Z] [runtime-status] [27897] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:13:18.329Z] [runtime-status] [27897] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:13:18.329Z] [runtime-status] [27897] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:13:18.330Z] [runtime-status] [27897] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:13:18.331Z] [runtime-status] [27897] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:13:18.332Z] [runtime-status] [27897] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:13:18.332Z] [runtime-status] [27897] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:13:18.393Z] [runtime-status] [27897] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:13:18.394Z] [runtime-status] [27897] Listening to port: /tmp/fire_emu_f5011569f9c0479b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] Listening to port: /tmp/fire_emu_f5011569f9c0479b.sock"}}
[debug] [2023-10-06T04:13:18.475Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: IDLE"}}
[debug] [2023-10-06T04:13:18.476Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:13:18.476Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: BUSY"}}
[debug] [2023-10-06T04:13:18.488Z] [runtime-status] [27897] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565597329","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:13:17.329Z","updated":"2023-10-06T04:13:17.329Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"E5Z36Ztx+/sv8+WK20p9ENbiez4","metadata":{"firebaseStorageDownloadTokens":"e1d90817-f0ee-4a7f-8b7d-0df269e56b00"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:13:17.329Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media"},"context":{"eventId":"1696565597338","timestamp":"2023-10-06T04:13:17.338Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [27897] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696565597329\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:13:17.329Z\",\"updated\":\"2023-10-06T04:13:17.329Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"E5Z36Ztx+/sv8+WK20p9ENbiez4\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"e1d90817-f0ee-4a7f-8b7d-0df269e56b00\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:13:17.329Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media\"},\"context\":{\"eventId\":\"1696565597338\",\"timestamp\":\"2023-10-06T04:13:17.338Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696565597329', {"user":"  generation: '1696565597329',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696565597329',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:13:17.329Z', {"user":"  timeCreated: '2023-10-06T04:13:17.329Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:13:17.329Z',"}}
[info] >    updated: '2023-10-06T04:13:17.329Z', {"user":"  updated: '2023-10-06T04:13:17.329Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:13:17.329Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'E5Z36Ztx+/sv8+WK20p9ENbiez4', {"user":"  etag: 'E5Z36Ztx+/sv8+WK20p9ENbiez4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'E5Z36Ztx+/sv8+WK20p9ENbiez4',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'e1d90817-f0ee-4a7f-8b7d-0df269e56b00' {"user":"    firebaseStorageDownloadTokens: 'e1d90817-f0ee-4a7f-8b7d-0df269e56b00'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'e1d90817-f0ee-4a7f-8b7d-0df269e56b00'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:13:17.329Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:13:17.329Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:13:17.329Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ApiError: Permission denied. No READ permission.\n    at new ApiError (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:80:15)\n    at Util.parseHttpRespBody (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:215:38)\n    at Util.handleResp (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:156:117)\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:538:22\n    at onResponse (/home/elvis/cover-letter-generator/functions/node_modules/retry-request/index.js:240:7)\n    at /home/elvis/cover-letter-generator/functions/node_modules/teeny-request/build/src/index.js:217:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 403,\n  errors: undefined,\n  response: PassThrough {\n    _readableState: ReadableState {\n      objectMode: false,\n      highWaterMark: 16384,\n      buffer: BufferList { head: null, tail: null, length: 0 },\n      length: 0,\n      pipes: [],\n      flowing: true,\n      ended: true,\n      endEmitted: true,\n      reading: false,\n      constructed: true,\n      sync: false,\n      needReadable: false,\n      emittedReadable: false,\n      readableListening: false,\n      resumeScheduled: false,\n      errorEmitted: false,\n      emitClose: true,\n      autoDestroy: true,\n      destroyed: true,\n      errored: null,\n      closed: true,\n      closeEmitted: true,\n      defaultEncoding: 'utf8',\n      awaitDrainWriters: null,\n      multiAwaitDrain: false,\n      readingMore: false,\n      dataEmitted: true,\n      decoder: null,\n      encoding: null,\n      [Symbol(kPaused)]: false\n    },\n    _events: [Object: null prototype] {\n      prefinish: [Function: prefinish],\n      error: [Array],\n      data: [Function (anonymous)],\n      end: [Function (anonymous)]\n    },\n    _eventsCount: 4,\n    _maxListeners: undefined,\n    _writableState: WritableState {\n      objectMode: false,\n      highWaterMark: 16384,\n      finalCalled: true,\n      needDrain: false,\n      ending: true,\n      ended: true,\n      finished: true,\n      destroyed: true,\n      decodeStrings: true,\n      defaultEncoding: 'utf8',\n      length: 0,\n      writing: false,\n      corked: 0,\n      sync: false,\n      bufferProcessing: false,\n      onwrite: [Function: bound onwrite],\n      writecb: null,\n      writelen: 0,\n      afterWriteTickInfo: null,\n      buffered: [],\n      bufferedIndex: 0,\n      allBuffers: true,\n      allNoop: true,\n      pendingcb: 0,\n      constructed: true,\n      prefinished: true,\n      errorEmitted: false,\n      emitClose: true,\n      autoDestroy: true,\n      errored: null,\n      closed: true,\n      closeEmitted: true,\n      [Symbol(kOnFinished)]: []\n    },\n    allowHalfOpen: true,\n    statusCode: 403,\n    statusMessage: 'Forbidden',\n    request: {\n      agent: [Agent],\n      headers: [Object],\n      href: 'http://127.0.0.1:9199/v0/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf'\n    },\n    body: { error: [Object] },\n    headers: {\n      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',\n      connection: 'keep-alive',\n      'content-length': '73',\n      'content-type': 'application/json; charset=utf-8',\n      date: 'Fri, 06 Oct 2023 04:13:18 GMT',\n      etag: 'W/\"49-rW1o0iNt7zW3rgr9/wz7M3rApug\"',\n      'keep-alive': 'timeout=5',\n      vary: 'Origin',\n      'x-powered-by': 'Express'\n    },\n    toJSON: [Function: toJSON],\n    [Symbol(kCapture)]: false,\n    [Symbol(kCallback)]: null\n  }\n}"} {"user":{"severity":"ERROR","message":"ApiError: Permission denied. No READ permission.\n    at new ApiError (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:80:15)\n    at Util.parseHttpRespBody (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:215:38)\n    at Util.handleResp (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:156:117)\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:538:22\n    at onResponse (/home/elvis/cover-letter-generator/functions/node_modules/retry-request/index.js:240:7)\n    at /home/elvis/cover-letter-generator/functions/node_modules/teeny-request/build/src/index.js:217:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 403,\n  errors: undefined,\n  response: PassThrough {\n    _readableState: ReadableState {\n      objectMode: false,\n      highWaterMark: 16384,\n      buffer: BufferList { head: null, tail: null, length: 0 },\n      length: 0,\n      pipes: [],\n      flowing: true,\n      ended: true,\n      endEmitted: true,\n      reading: false,\n      constructed: true,\n      sync: false,\n      needReadable: false,\n      emittedReadable: false,\n      readableListening: false,\n      resumeScheduled: false,\n      errorEmitted: false,\n      emitClose: true,\n      autoDestroy: true,\n      destroyed: true,\n      errored: null,\n      closed: true,\n      closeEmitted: true,\n      defaultEncoding: 'utf8',\n      awaitDrainWriters: null,\n      multiAwaitDrain: false,\n      readingMore: false,\n      dataEmitted: true,\n      decoder: null,\n      encoding: null,\n      [Symbol(kPaused)]: false\n    },\n    _events: [Object: null prototype] {\n      prefinish: [Function: prefinish],\n      error: [Array],\n      data: [Function (anonymous)],\n      end: [Function (anonymous)]\n    },\n    _eventsCount: 4,\n    _maxListeners: undefined,\n    _writableState: WritableState {\n      objectMode: false,\n      highWaterMark: 16384,\n      finalCalled: true,\n      needDrain: false,\n      ending: true,\n      ended: true,\n      finished: true,\n      destroyed: true,\n      decodeStrings: true,\n      defaultEncoding: 'utf8',\n      length: 0,\n      writing: false,\n      corked: 0,\n      sync: false,\n      bufferProcessing: false,\n      onwrite: [Function: bound onwrite],\n      writecb: null,\n      writelen: 0,\n      afterWriteTickInfo: null,\n      buffered: [],\n      bufferedIndex: 0,\n      allBuffers: true,\n      allNoop: true,\n      pendingcb: 0,\n      constructed: true,\n      prefinished: true,\n      errorEmitted: false,\n      emitClose: true,\n      autoDestroy: true,\n      errored: null,\n      closed: true,\n      closeEmitted: true,\n      [Symbol(kOnFinished)]: []\n    },\n    allowHalfOpen: true,\n    statusCode: 403,\n    statusMessage: 'Forbidden',\n    request: {\n      agent: [Agent],\n      headers: [Object],\n      href: 'http://127.0.0.1:9199/v0/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf'\n    },\n    body: { error: [Object] },\n    headers: {\n      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',\n      connection: 'keep-alive',\n      'content-length': '73',\n      'content-type': 'application/json; charset=utf-8',\n      date: 'Fri, 06 Oct 2023 04:13:18 GMT',\n      etag: 'W/\"49-rW1o0iNt7zW3rgr9/wz7M3rApug\"',\n      'keep-alive': 'timeout=5',\n      vary: 'Origin',\n      'x-powered-by': 'Express'\n    },\n    toJSON: [Function: toJSON],\n    [Symbol(kCapture)]: false,\n    [Symbol(kCallback)]: null\n  }\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ApiError: Permission denied. No READ permission.\\n    at new ApiError (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:80:15)\\n    at Util.parseHttpRespBody (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:215:38)\\n    at Util.handleResp (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:156:117)\\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/nodejs-common/util.js:538:22\\n    at onResponse (/home/elvis/cover-letter-generator/functions/node_modules/retry-request/index.js:240:7)\\n    at /home/elvis/cover-letter-generator/functions/node_modules/teeny-request/build/src/index.js:217:17\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\\n  code: 403,\\n  errors: undefined,\\n  response: PassThrough {\\n    _readableState: ReadableState {\\n      objectMode: false,\\n      highWaterMark: 16384,\\n      buffer: BufferList { head: null, tail: null, length: 0 },\\n      length: 0,\\n      pipes: [],\\n      flowing: true,\\n      ended: true,\\n      endEmitted: true,\\n      reading: false,\\n      constructed: true,\\n      sync: false,\\n      needReadable: false,\\n      emittedReadable: false,\\n      readableListening: false,\\n      resumeScheduled: false,\\n      errorEmitted: false,\\n      emitClose: true,\\n      autoDestroy: true,\\n      destroyed: true,\\n      errored: null,\\n      closed: true,\\n      closeEmitted: true,\\n      defaultEncoding: 'utf8',\\n      awaitDrainWriters: null,\\n      multiAwaitDrain: false,\\n      readingMore: false,\\n      dataEmitted: true,\\n      decoder: null,\\n      encoding: null,\\n      [Symbol(kPaused)]: false\\n    },\\n    _events: [Object: null prototype] {\\n      prefinish: [Function: prefinish],\\n      error: [Array],\\n      data: [Function (anonymous)],\\n      end: [Function (anonymous)]\\n    },\\n    _eventsCount: 4,\\n    _maxListeners: undefined,\\n    _writableState: WritableState {\\n      objectMode: false,\\n      highWaterMark: 16384,\\n      finalCalled: true,\\n      needDrain: false,\\n      ending: true,\\n      ended: true,\\n      finished: true,\\n      destroyed: true,\\n      decodeStrings: true,\\n      defaultEncoding: 'utf8',\\n      length: 0,\\n      writing: false,\\n      corked: 0,\\n      sync: false,\\n      bufferProcessing: false,\\n      onwrite: [Function: bound onwrite],\\n      writecb: null,\\n      writelen: 0,\\n      afterWriteTickInfo: null,\\n      buffered: [],\\n      bufferedIndex: 0,\\n      allBuffers: true,\\n      allNoop: true,\\n      pendingcb: 0,\\n      constructed: true,\\n      prefinished: true,\\n      errorEmitted: false,\\n      emitClose: true,\\n      autoDestroy: true,\\n      errored: null,\\n      closed: true,\\n      closeEmitted: true,\\n      [Symbol(kOnFinished)]: []\\n    },\\n    allowHalfOpen: true,\\n    statusCode: 403,\\n    statusMessage: 'Forbidden',\\n    request: {\\n      agent: [Agent],\\n      headers: [Object],\\n      href: 'http://127.0.0.1:9199/v0/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf'\\n    },\\n    body: { error: [Object] },\\n    headers: {\\n      'access-control-expose-headers': 'content-type,x-firebase-storage-version,X-Goog-Upload-Size-Received,x-goog-upload-url,x-goog-upload-command,x-gupload-uploadid,x-goog-upload-header-content-length,x-goog-upload-header-content-type,x-goog-upload-protocol,x-goog-upload-status,x-goog-upload-chunk-granularity,x-goog-upload-control-url',\\n      connection: 'keep-alive',\\n      'content-length': '73',\\n      'content-type': 'application/json; charset=utf-8',\\n      date: 'Fri, 06 Oct 2023 04:13:18 GMT',\\n      etag: 'W/\\\"49-rW1o0iNt7zW3rgr9/wz7M3rApug\\\"',\\n      'keep-alive': 'timeout=5',\\n      vary: 'Origin',\\n      'x-powered-by': 'Express'\\n    },\\n    toJSON: [Function: toJSON],\\n    [Symbol(kCapture)]: false,\\n    [Symbol(kCallback)]: null\\n  }\\n}\"}"}}
[debug] [2023-10-06T04:13:18.582Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 106.1218ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 106.1218ms"}}
[debug] [2023-10-06T04:13:18.583Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: IDLE"}}
[debug] [2023-10-06T04:13:18.583Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:13:18.583Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:13:18.583Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:15:33.657Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:15:34.659Z] Validating nodejs source
[debug] [2023-10-06T04:15:35.199Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:15:35.199Z] Building nodejs source
[debug] [2023-10-06T04:15:35.199Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:15:35.201Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:15:35.202Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8940

[debug] [2023-10-06T04:15:35.524Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:15:35.535Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:15:35.535Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: FINISHING"}}
[debug] [2023-10-06T04:15:35.540Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: exited"}}
[debug] [2023-10-06T04:15:35.540Z] [worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-006003a0-9437-4b09-80c6-114888767cf0]: FINISHED"}}
[debug] [2023-10-06T04:22:15.061Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:22:16.063Z] Validating nodejs source
[debug] [2023-10-06T04:22:16.623Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:22:16.623Z] Building nodejs source
[debug] [2023-10-06T04:22:16.623Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:22:16.624Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:22:16.625Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8179

[debug] [2023-10-06T04:22:16.953Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:22:30.518Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:22:30.518Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566150518","timestamp":"2023-10-06T04:22:30.518Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565597329","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:13:17.329Z","updated":"2023-10-06T04:13:17.329Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"E5Z36Ztx+/sv8+WK20p9ENbiez4","metadata":{"firebaseStorageDownloadTokens":"e1d90817-f0ee-4a7f-8b7d-0df269e56b00"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:13:17.329Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media"}}
[debug] [2023-10-06T04:22:30.523Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:22:30.523Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:22:30.523Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:22:30.523Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"552413a9-70ba-452a-b98b-b9bd2bd2858c","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:13:17.329Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696565597329","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:13:17.329Z","updated":"2023-10-06T04:13:17.329Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"E5Z36Ztx+/sv8+WK20p9ENbiez4","metadata":{"firebaseStorageDownloadTokens":"e1d90817-f0ee-4a7f-8b7d-0df269e56b00"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:13:17.329Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696565597329","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696565597329&alt=media"}}
[debug] [2023-10-06T04:22:30.527Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:22:30.527Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:22:30.537Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:22:30.537Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566150537","timestamp":"2023-10-06T04:22:30.537Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566150530","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:22:30.530Z","updated":"2023-10-06T04:22:30.530Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"OBKGjaKPC2KVpmTXLTSFjAYiLto","metadata":{"firebaseStorageDownloadTokens":"db737bd0-c209-40ac-9473-9456a235b5b6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:22:30.530Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media"}}
[debug] [2023-10-06T04:22:30.539Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:22:30.539Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:22:30.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:22:30.539Z"],"workRunningCount":1}
[debug] [2023-10-06T04:22:30.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:22:30.541Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:22:30.541Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:22:30.542Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:22:30.542Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"5e52ae3d-0671-44b7-a516-31a20709ca4a","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:22:30.530Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566150530","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:22:30.530Z","updated":"2023-10-06T04:22:30.530Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"OBKGjaKPC2KVpmTXLTSFjAYiLto","metadata":{"firebaseStorageDownloadTokens":"db737bd0-c209-40ac-9473-9456a235b5b6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:22:30.530Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media"}}
[debug] [2023-10-06T04:22:30.543Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:22:30.543Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:22:30.543Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:22:30.543Z"],"workRunningCount":1}
[debug] [2023-10-06T04:22:30.543Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:22:30.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:22:30.544Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:22:30.544Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:22:30.552Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:22:30.553Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:22:30.558Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:22:30.558Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:22:31.300Z] [runtime-status] [29921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:22:31.302Z] [runtime-status] [29921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:22:31.302Z] [runtime-status] [29921] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:22:31.302Z] [runtime-status] [29921] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:22:31.303Z] [runtime-status] [29921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:22:31.424Z] [runtime-status] [29921] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:22:31.424Z] [runtime-status] [29921] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:22:31.425Z] [runtime-status] [29921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:22:31.425Z] [runtime-status] [29921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:22:31.428Z] [runtime-status] [29921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:22:31.428Z] [runtime-status] [29921] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:22:31.491Z] [runtime-status] [29921] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:22:31.492Z] [runtime-status] [29921] Listening to port: /tmp/fire_emu_cfda04cbbf622345.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] Listening to port: /tmp/fire_emu_cfda04cbbf622345.sock"}}
[debug] [2023-10-06T04:22:31.565Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: IDLE"}}
[debug] [2023-10-06T04:22:31.565Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:22:31.566Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: BUSY"}}
[debug] [2023-10-06T04:22:31.575Z] [runtime-status] [29921] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566150530","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:22:30.530Z","updated":"2023-10-06T04:22:30.530Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"OBKGjaKPC2KVpmTXLTSFjAYiLto","metadata":{"firebaseStorageDownloadTokens":"db737bd0-c209-40ac-9473-9456a235b5b6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:22:30.530Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media"},"context":{"eventId":"1696566150537","timestamp":"2023-10-06T04:22:30.537Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [29921] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566150530\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:22:30.530Z\",\"updated\":\"2023-10-06T04:22:30.530Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"OBKGjaKPC2KVpmTXLTSFjAYiLto\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"db737bd0-c209-40ac-9473-9456a235b5b6\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:22:30.530Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media\"},\"context\":{\"eventId\":\"1696566150537\",\"timestamp\":\"2023-10-06T04:22:30.537Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566150530', {"user":"  generation: '1696566150530',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566150530',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:22:30.530Z', {"user":"  timeCreated: '2023-10-06T04:22:30.530Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:22:30.530Z',"}}
[info] >    updated: '2023-10-06T04:22:30.530Z', {"user":"  updated: '2023-10-06T04:22:30.530Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:22:30.530Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'OBKGjaKPC2KVpmTXLTSFjAYiLto', {"user":"  etag: 'OBKGjaKPC2KVpmTXLTSFjAYiLto',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'OBKGjaKPC2KVpmTXLTSFjAYiLto',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'db737bd0-c209-40ac-9473-9456a235b5b6' {"user":"    firebaseStorageDownloadTokens: 'db737bd0-c209-40ac-9473-9456a235b5b6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'db737bd0-c209-40ac-9473-9456a235b5b6'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:22:30.530Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:22:30.530Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:22:30.530Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"Error: The action is not provided or invalid.\n    at File.getSignedUrl (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/file.js:2184:19)\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:57:28\n    at new Promise (<anonymous>)\n    at File.wrapper (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:42:16)\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"} {"user":{"severity":"ERROR","message":"Error: The action is not provided or invalid.\n    at File.getSignedUrl (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/file.js:2184:19)\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:57:28\n    at new Promise (<anonymous>)\n    at File.wrapper (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:42:16)\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: The action is not provided or invalid.\\n    at File.getSignedUrl (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/storage/build/src/file.js:2184:19)\\n    at /home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:57:28\\n    at new Promise (<anonymous>)\\n    at File.wrapper (/home/elvis/cover-letter-generator/functions/node_modules/@google-cloud/promisify/build/src/index.js:42:16)\\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21\"}"}}
[debug] [2023-10-06T04:22:31.651Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 85.6676ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 85.6676ms"}}
[debug] [2023-10-06T04:22:31.652Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: IDLE"}}
[debug] [2023-10-06T04:22:31.652Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:22:31.652Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:22:31.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:23:19.263Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:23:20.263Z] Validating nodejs source
[debug] [2023-10-06T04:23:20.755Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:23:20.755Z] Building nodejs source
[debug] [2023-10-06T04:23:20.755Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:23:20.756Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:23:20.757Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8975

[debug] [2023-10-06T04:23:21.088Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:23:21.098Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:23:21.098Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: FINISHING"}}
[debug] [2023-10-06T04:23:21.103Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: exited"}}
[debug] [2023-10-06T04:23:21.103Z] [worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-72ceff14-5e33-4b0c-baf1-0fb590afda21]: FINISHED"}}
[debug] [2023-10-06T04:23:29.466Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:23:29.466Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566209465","timestamp":"2023-10-06T04:23:29.465Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566150530","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:22:30.530Z","updated":"2023-10-06T04:22:30.530Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"OBKGjaKPC2KVpmTXLTSFjAYiLto","metadata":{"firebaseStorageDownloadTokens":"db737bd0-c209-40ac-9473-9456a235b5b6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:22:30.530Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media"}}
[debug] [2023-10-06T04:23:29.470Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:23:29.470Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:23:29.470Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:23:29.470Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"645cad3b-9453-4852-b95a-74e44fce4fce","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:22:30.530Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566150530","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:22:30.530Z","updated":"2023-10-06T04:22:30.530Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"OBKGjaKPC2KVpmTXLTSFjAYiLto","metadata":{"firebaseStorageDownloadTokens":"db737bd0-c209-40ac-9473-9456a235b5b6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:22:30.530Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566150530","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566150530&alt=media"}}
[debug] [2023-10-06T04:23:29.475Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:23:29.475Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:23:29.484Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:23:29.484Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566209484","timestamp":"2023-10-06T04:23:29.484Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566209477","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:23:29.477Z","updated":"2023-10-06T04:23:29.477Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"nRqMoUaatVNKpO+wSdIyADl3yNk","metadata":{"firebaseStorageDownloadTokens":"bef7a7e5-002c-4db0-8f78-f179febd857f"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:23:29.477Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media"}}
[debug] [2023-10-06T04:23:29.486Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:23:29.486Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:23:29.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:23:29.486Z"],"workRunningCount":1}
[debug] [2023-10-06T04:23:29.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:23:29.488Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:23:29.488Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:23:29.488Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:23:29.488Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"b5e21f9e-536a-476e-8ae9-48262b834a7c","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:23:29.477Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566209477","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:23:29.477Z","updated":"2023-10-06T04:23:29.477Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"nRqMoUaatVNKpO+wSdIyADl3yNk","metadata":{"firebaseStorageDownloadTokens":"bef7a7e5-002c-4db0-8f78-f179febd857f"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:23:29.477Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media"}}
[debug] [2023-10-06T04:23:29.490Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:23:29.490Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:23:29.490Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:23:29.490Z"],"workRunningCount":1}
[debug] [2023-10-06T04:23:29.490Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:23:29.490Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:23:29.491Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:23:29.491Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:23:29.498Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:23:29.498Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:23:29.503Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:23:29.503Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:23:30.126Z] [runtime-status] [30301] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:23:30.128Z] [runtime-status] [30301] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:23:30.128Z] [runtime-status] [30301] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:23:30.128Z] [runtime-status] [30301] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:23:30.129Z] [runtime-status] [30301] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:23:30.254Z] [runtime-status] [30301] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:23:30.255Z] [runtime-status] [30301] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:23:30.256Z] [runtime-status] [30301] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:23:30.258Z] [runtime-status] [30301] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:23:30.259Z] [runtime-status] [30301] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:23:30.260Z] [runtime-status] [30301] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:23:30.344Z] [runtime-status] [30301] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:23:30.344Z] [runtime-status] [30301] Listening to port: /tmp/fire_emu_9d2e87447f357593.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] Listening to port: /tmp/fire_emu_9d2e87447f357593.sock"}}
[debug] [2023-10-06T04:23:30.409Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: IDLE"}}
[debug] [2023-10-06T04:23:30.410Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:23:30.411Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: BUSY"}}
[debug] [2023-10-06T04:23:30.421Z] [runtime-status] [30301] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566209477","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:23:29.477Z","updated":"2023-10-06T04:23:29.477Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"nRqMoUaatVNKpO+wSdIyADl3yNk","metadata":{"firebaseStorageDownloadTokens":"bef7a7e5-002c-4db0-8f78-f179febd857f"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:23:29.477Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media"},"context":{"eventId":"1696566209484","timestamp":"2023-10-06T04:23:29.484Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30301] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566209477\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:23:29.477Z\",\"updated\":\"2023-10-06T04:23:29.477Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"nRqMoUaatVNKpO+wSdIyADl3yNk\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"bef7a7e5-002c-4db0-8f78-f179febd857f\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:23:29.477Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media\"},\"context\":{\"eventId\":\"1696566209484\",\"timestamp\":\"2023-10-06T04:23:29.484Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566209477', {"user":"  generation: '1696566209477',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566209477',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:23:29.477Z', {"user":"  timeCreated: '2023-10-06T04:23:29.477Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:23:29.477Z',"}}
[info] >    updated: '2023-10-06T04:23:29.477Z', {"user":"  updated: '2023-10-06T04:23:29.477Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:23:29.477Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'nRqMoUaatVNKpO+wSdIyADl3yNk', {"user":"  etag: 'nRqMoUaatVNKpO+wSdIyADl3yNk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'nRqMoUaatVNKpO+wSdIyADl3yNk',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'bef7a7e5-002c-4db0-8f78-f179febd857f' {"user":"    firebaseStorageDownloadTokens: 'bef7a7e5-002c-4db0-8f78-f179febd857f'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'bef7a7e5-002c-4db0-8f78-f179febd857f'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:23:29.477Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:23:29.477Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:23:29.477Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    'https://storage.googleapis.com/cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf?GoogleAccessId=firebase-adminsdk-l5gqu%40cover-letter-generator-8a059.iam.gserviceaccount.com&Expires=1696569810&Signature=afQk%2F2ztKMzdGpMhh7d%2B05EKWJwY4sGC%2BxWb%2FNAq40%2Fg8EQ%2FiLnidMBVzOBWr%2BlyEZASbak66UQbYFIC5gfvuSRVxJksmkkU%2BQr%2FI%2FV2Flbmbfvv6UtIyf%2FhWffiAXWnLUnxnQ%2BnnWbSgu11k%2Fso%2F6kzaG9leg3CabyCKGZuwT88oTY4mpxvPz2SnMlWUu1wL%2FZZjt8D609BBp81dCRfA52MnL44uxVjtkFJsgpPoVLTVRC1cmJmFwg%2BMnqrRAbbKyJ9bEfxf%2Fq0Cb524MAx2GcY%2FY5jaNASMBBVxHCxVw6s4cO8xQ3KSLuRpf8BHOSDB1aUYYBJ%2Bo3izTYieUCMUQ%3D%3D' {"user":"  'https://storage.googleapis.com/cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf?GoogleAccessId=firebase-adminsdk-l5gqu%40cover-letter-generator-8a059.iam.gserviceaccount.com&Expires=1696569810&Signature=afQk%2F2ztKMzdGpMhh7d%2B05EKWJwY4sGC%2BxWb%2FNAq40%2Fg8EQ%2FiLnidMBVzOBWr%2BlyEZASbak66UQbYFIC5gfvuSRVxJksmkkU%2BQr%2FI%2FV2Flbmbfvv6UtIyf%2FhWffiAXWnLUnxnQ%2BnnWbSgu11k%2Fso%2F6kzaG9leg3CabyCKGZuwT88oTY4mpxvPz2SnMlWUu1wL%2FZZjt8D609BBp81dCRfA52MnL44uxVjtkFJsgpPoVLTVRC1cmJmFwg%2BMnqrRAbbKyJ9bEfxf%2Fq0Cb524MAx2GcY%2FY5jaNASMBBVxHCxVw6s4cO8xQ3KSLuRpf8BHOSDB1aUYYBJ%2Bo3izTYieUCMUQ%3D%3D'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   'https://storage.googleapis.com/cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf?GoogleAccessId=firebase-adminsdk-l5gqu%40cover-letter-generator-8a059.iam.gserviceaccount.com&Expires=1696569810&Signature=afQk%2F2ztKMzdGpMhh7d%2B05EKWJwY4sGC%2BxWb%2FNAq40%2Fg8EQ%2FiLnidMBVzOBWr%2BlyEZASbak66UQbYFIC5gfvuSRVxJksmkkU%2BQr%2FI%2FV2Flbmbfvv6UtIyf%2FhWffiAXWnLUnxnQ%2BnnWbSgu11k%2Fso%2F6kzaG9leg3CabyCKGZuwT88oTY4mpxvPz2SnMlWUu1wL%2FZZjt8D609BBp81dCRfA52MnL44uxVjtkFJsgpPoVLTVRC1cmJmFwg%2BMnqrRAbbKyJ9bEfxf%2Fq0Cb524MAx2GcY%2FY5jaNASMBBVxHCxVw6s4cO8xQ3KSLuRpf8BHOSDB1aUYYBJ%2Bo3izTYieUCMUQ%3D%3D'"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  The user:  { {"user":"The user:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The user:  {"}}
[info] >    email: 'elvishernandezdev@gmail.com', {"user":"  email: 'elvishernandezdev@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'elvishernandezdev@gmail.com',"}}
[info] >    encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d', {"user":"  encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',"}}
[info] >    resumeFileName: 'resume.pdf', {"user":"  resumeFileName: 'resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   resumeFileName: 'resume.pdf',"}}
[info] >    uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO' {"user":"  uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:23:30.644Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 233.2846ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 233.2846ms"}}
[debug] [2023-10-06T04:23:30.644Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: IDLE"}}
[debug] [2023-10-06T04:23:30.644Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:23:30.644Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:23:30.644Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:24:38.747Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:24:39.747Z] Validating nodejs source
[debug] [2023-10-06T04:24:40.641Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:24:40.641Z] Building nodejs source
[debug] [2023-10-06T04:24:40.642Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:24:40.642Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:24:40.644Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8198

[debug] [2023-10-06T04:24:40.955Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:24:40.966Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:24:40.966Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: FINISHING"}}
[debug] [2023-10-06T04:24:40.973Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: exited"}}
[debug] [2023-10-06T04:24:40.973Z] [worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-1b6eb116-ef8a-4ec0-ad2c-91a7a7b60b52]: FINISHED"}}
[debug] [2023-10-06T04:24:49.417Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:24:49.418Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566289417","timestamp":"2023-10-06T04:24:49.417Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566209477","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:23:29.477Z","updated":"2023-10-06T04:23:29.477Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"nRqMoUaatVNKpO+wSdIyADl3yNk","metadata":{"firebaseStorageDownloadTokens":"bef7a7e5-002c-4db0-8f78-f179febd857f"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:23:29.477Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media"}}
[debug] [2023-10-06T04:24:49.421Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:24:49.421Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:24:49.421Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:24:49.421Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"ce2c1ca0-7250-4f2f-b055-1329e3f27d8d","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:23:29.477Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566209477","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:23:29.477Z","updated":"2023-10-06T04:23:29.477Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"nRqMoUaatVNKpO+wSdIyADl3yNk","metadata":{"firebaseStorageDownloadTokens":"bef7a7e5-002c-4db0-8f78-f179febd857f"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:23:29.477Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566209477","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566209477&alt=media"}}
[debug] [2023-10-06T04:24:49.425Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:24:49.425Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:24:49.433Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:24:49.433Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566289433","timestamp":"2023-10-06T04:24:49.433Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566289428","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:24:49.429Z","updated":"2023-10-06T04:24:49.429Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"Bdo139M8ZLrD8AuuZzxeCj6Ykls","metadata":{"firebaseStorageDownloadTokens":"644b093c-4d54-47ba-957c-dcca94db7411"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:24:49.429Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media"}}
[debug] [2023-10-06T04:24:49.436Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:24:49.436Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:24:49.437Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:24:49.436Z"],"workRunningCount":1}
[debug] [2023-10-06T04:24:49.437Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:24:49.438Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:24:49.438Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:24:49.439Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:24:49.439Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"42aa7146-d9aa-4686-8872-7e3916497d81","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:24:49.429Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566289428","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:24:49.429Z","updated":"2023-10-06T04:24:49.429Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"Bdo139M8ZLrD8AuuZzxeCj6Ykls","metadata":{"firebaseStorageDownloadTokens":"644b093c-4d54-47ba-957c-dcca94db7411"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:24:49.429Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media"}}
[debug] [2023-10-06T04:24:49.441Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:24:49.441Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:24:49.441Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:24:49.441Z"],"workRunningCount":1}
[debug] [2023-10-06T04:24:49.441Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:24:49.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:24:49.441Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:24:49.441Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:24:49.448Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:24:49.449Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:24:49.452Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:24:49.452Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:24:50.191Z] [runtime-status] [30656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:24:50.192Z] [runtime-status] [30656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:24:50.192Z] [runtime-status] [30656] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:24:50.193Z] [runtime-status] [30656] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:24:50.193Z] [runtime-status] [30656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:24:50.313Z] [runtime-status] [30656] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:24:50.313Z] [runtime-status] [30656] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:24:50.315Z] [runtime-status] [30656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:24:50.315Z] [runtime-status] [30656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:24:50.317Z] [runtime-status] [30656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:24:50.317Z] [runtime-status] [30656] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:24:50.380Z] [runtime-status] [30656] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:24:50.380Z] [runtime-status] [30656] Listening to port: /tmp/fire_emu_43d74b14e61e30e5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] Listening to port: /tmp/fire_emu_43d74b14e61e30e5.sock"}}
[debug] [2023-10-06T04:24:50.459Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: IDLE"}}
[debug] [2023-10-06T04:24:50.459Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:24:50.459Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: BUSY"}}
[debug] [2023-10-06T04:24:50.468Z] [runtime-status] [30656] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566289428","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:24:49.429Z","updated":"2023-10-06T04:24:49.429Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"Bdo139M8ZLrD8AuuZzxeCj6Ykls","metadata":{"firebaseStorageDownloadTokens":"644b093c-4d54-47ba-957c-dcca94db7411"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:24:49.429Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media"},"context":{"eventId":"1696566289433","timestamp":"2023-10-06T04:24:49.433Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30656] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566289428\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:24:49.429Z\",\"updated\":\"2023-10-06T04:24:49.429Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"Bdo139M8ZLrD8AuuZzxeCj6Ykls\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"644b093c-4d54-47ba-957c-dcca94db7411\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:24:49.429Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media\"},\"context\":{\"eventId\":\"1696566289433\",\"timestamp\":\"2023-10-06T04:24:49.433Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566289428', {"user":"  generation: '1696566289428',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566289428',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:24:49.429Z', {"user":"  timeCreated: '2023-10-06T04:24:49.429Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:24:49.429Z',"}}
[info] >    updated: '2023-10-06T04:24:49.429Z', {"user":"  updated: '2023-10-06T04:24:49.429Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:24:49.429Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'Bdo139M8ZLrD8AuuZzxeCj6Ykls', {"user":"  etag: 'Bdo139M8ZLrD8AuuZzxeCj6Ykls',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'Bdo139M8ZLrD8AuuZzxeCj6Ykls',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '644b093c-4d54-47ba-957c-dcca94db7411' {"user":"    firebaseStorageDownloadTokens: '644b093c-4d54-47ba-957c-dcca94db7411'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '644b093c-4d54-47ba-957c-dcca94db7411'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:24:49.429Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:24:49.429Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:24:49.429Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  The user:  { {"user":"The user:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The user:  {"}}
[info] >    email: 'elvishernandezdev@gmail.com', {"user":"  email: 'elvishernandezdev@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'elvishernandezdev@gmail.com',"}}
[info] >    encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d', {"user":"  encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',"}}
[info] >    resumeFileName: 'resume.pdf', {"user":"  resumeFileName: 'resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   resumeFileName: 'resume.pdf',"}}
[info] >    uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO' {"user":"  uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:24:50.607Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 147.664ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 147.664ms"}}
[debug] [2023-10-06T04:24:50.607Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: IDLE"}}
[debug] [2023-10-06T04:24:50.607Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:24:50.607Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:24:50.607Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:25:31.367Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:25:32.367Z] Validating nodejs source
[debug] [2023-10-06T04:25:32.885Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:25:32.886Z] Building nodejs source
[debug] [2023-10-06T04:25:32.886Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:25:32.887Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:25:32.887Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8110

[debug] [2023-10-06T04:25:33.211Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:25:33.223Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:25:33.223Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: FINISHING"}}
[debug] [2023-10-06T04:25:33.229Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: exited"}}
[debug] [2023-10-06T04:25:33.230Z] [worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e47b89a8-e09e-44b2-a415-03be73e30b8b]: FINISHED"}}
[debug] [2023-10-06T04:25:39.188Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:25:39.188Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566339188","timestamp":"2023-10-06T04:25:39.188Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566289428","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:24:49.429Z","updated":"2023-10-06T04:24:49.429Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"Bdo139M8ZLrD8AuuZzxeCj6Ykls","metadata":{"firebaseStorageDownloadTokens":"644b093c-4d54-47ba-957c-dcca94db7411"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:24:49.429Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media"}}
[debug] [2023-10-06T04:25:39.192Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:25:39.192Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:25:39.192Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:25:39.192Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"821c89ea-72a0-41aa-a35f-919374517b0e","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:24:49.429Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566289428","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:24:49.429Z","updated":"2023-10-06T04:24:49.429Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"Bdo139M8ZLrD8AuuZzxeCj6Ykls","metadata":{"firebaseStorageDownloadTokens":"644b093c-4d54-47ba-957c-dcca94db7411"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:24:49.429Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566289428","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566289428&alt=media"}}
[debug] [2023-10-06T04:25:39.196Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:25:39.196Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:25:39.204Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:25:39.204Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566339204","timestamp":"2023-10-06T04:25:39.204Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566339198","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:25:39.198Z","updated":"2023-10-06T04:25:39.198Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"u7AfN4Le5vUtz4FJX8p9vF8bJZU","metadata":{"firebaseStorageDownloadTokens":"b51a5f3a-38ca-4c43-90b4-e8a21e310086"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:25:39.198Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media"}}
[debug] [2023-10-06T04:25:39.206Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:25:39.206Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:25:39.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:25:39.206Z"],"workRunningCount":1}
[debug] [2023-10-06T04:25:39.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:25:39.208Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:25:39.208Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:25:39.208Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:25:39.208Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"d0adf25a-636f-489d-9452-705b4b79962a","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:25:39.198Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566339198","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:25:39.198Z","updated":"2023-10-06T04:25:39.198Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"u7AfN4Le5vUtz4FJX8p9vF8bJZU","metadata":{"firebaseStorageDownloadTokens":"b51a5f3a-38ca-4c43-90b4-e8a21e310086"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:25:39.198Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media"}}
[debug] [2023-10-06T04:25:39.210Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:25:39.210Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:25:39.210Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:25:39.210Z"],"workRunningCount":1}
[debug] [2023-10-06T04:25:39.210Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:25:39.210Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:25:39.211Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:25:39.211Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:25:39.218Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:25:39.218Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:25:39.222Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:25:39.223Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:25:39.845Z] [runtime-status] [30964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:25:39.846Z] [runtime-status] [30964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:25:39.847Z] [runtime-status] [30964] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:25:39.847Z] [runtime-status] [30964] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:25:39.849Z] [runtime-status] [30964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:25:39.974Z] [runtime-status] [30964] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:25:39.974Z] [runtime-status] [30964] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:25:39.975Z] [runtime-status] [30964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:25:39.976Z] [runtime-status] [30964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:25:39.977Z] [runtime-status] [30964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:25:39.977Z] [runtime-status] [30964] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:25:40.046Z] [runtime-status] [30964] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:25:40.047Z] [runtime-status] [30964] Listening to port: /tmp/fire_emu_228f71d5593f1f80.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] Listening to port: /tmp/fire_emu_228f71d5593f1f80.sock"}}
[debug] [2023-10-06T04:25:40.130Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: IDLE"}}
[debug] [2023-10-06T04:25:40.130Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:25:40.131Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: BUSY"}}
[debug] [2023-10-06T04:25:40.141Z] [runtime-status] [30964] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566339198","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:25:39.198Z","updated":"2023-10-06T04:25:39.198Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"u7AfN4Le5vUtz4FJX8p9vF8bJZU","metadata":{"firebaseStorageDownloadTokens":"b51a5f3a-38ca-4c43-90b4-e8a21e310086"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:25:39.198Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media"},"context":{"eventId":"1696566339204","timestamp":"2023-10-06T04:25:39.204Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [30964] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566339198\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:25:39.198Z\",\"updated\":\"2023-10-06T04:25:39.198Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"u7AfN4Le5vUtz4FJX8p9vF8bJZU\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"b51a5f3a-38ca-4c43-90b4-e8a21e310086\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:25:39.198Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media\"},\"context\":{\"eventId\":\"1696566339204\",\"timestamp\":\"2023-10-06T04:25:39.204Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566339198', {"user":"  generation: '1696566339198',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566339198',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:25:39.198Z', {"user":"  timeCreated: '2023-10-06T04:25:39.198Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:25:39.198Z',"}}
[info] >    updated: '2023-10-06T04:25:39.198Z', {"user":"  updated: '2023-10-06T04:25:39.198Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:25:39.198Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'u7AfN4Le5vUtz4FJX8p9vF8bJZU', {"user":"  etag: 'u7AfN4Le5vUtz4FJX8p9vF8bJZU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'u7AfN4Le5vUtz4FJX8p9vF8bJZU',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'b51a5f3a-38ca-4c43-90b4-e8a21e310086' {"user":"    firebaseStorageDownloadTokens: 'b51a5f3a-38ca-4c43-90b4-e8a21e310086'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'b51a5f3a-38ca-4c43-90b4-e8a21e310086'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:25:39.198Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:25:39.198Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:25:39.198Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    numpages: 1, {"user":"  numpages: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   numpages: 1,"}}
[info] >    numrender: 1, {"user":"  numrender: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   numrender: 1,"}}
[info] >    info: { {"user":"  info: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   info: {"}}
[info] >      PDFFormatVersion: '1.4', {"user":"    PDFFormatVersion: '1.4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     PDFFormatVersion: '1.4',"}}
[info] >      IsAcroFormPresent: false, {"user":"    IsAcroFormPresent: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     IsAcroFormPresent: false,"}}
[info] >      IsXFAPresent: false, {"user":"    IsXFAPresent: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     IsXFAPresent: false,"}}
[info] >      Producer: 'PDFShift.io', {"user":"    Producer: 'PDFShift.io',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     Producer: 'PDFShift.io',"}}
[info] >      CreationDate: "D:20230919015150+00'00'", {"user":"    CreationDate: \"D:20230919015150+00'00'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     CreationDate: \"D:20230919015150+00'00'\","}}
[info] >      ModDate: "D:20230919015150+00'00'" {"user":"    ModDate: \"D:20230919015150+00'00'\"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     ModDate: \"D:20230919015150+00'00'\""}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    metadata: null, {"user":"  metadata: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: null,"}}
[info] >    text: '\n' + {"user":"  text: '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   text: '\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'ELVIS\n' + {"user":"    'ELVIS\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'ELVIS\\n' +"}}
[info] >      'HERNANDEZ\n' + {"user":"    'HERNANDEZ\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'HERNANDEZ\\n' +"}}
[info] >      'Software Engineer\n' + {"user":"    'Software Engineer\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Software Engineer\\n' +"}}
[info] >      'elvishernandezdev@gmail.com\n' + {"user":"    'elvishernandezdev@gmail.com\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'elvishernandezdev@gmail.com\\n' +"}}
[info] >      '(786) 237-1723\n' + {"user":"    '(786) 237-1723\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '(786) 237-1723\\n' +"}}
[info] >      'Miami, FL\n' + {"user":"    'Miami, FL\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Miami, FL\\n' +"}}
[info] >      'https://www.linkedin.com/in/elvi\n' + {"user":"    'https://www.linkedin.com/in/elvi\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'https://www.linkedin.com/in/elvi\\n' +"}}
[info] >      's-hernandez-dev/\n' + {"user":"    's-hernandez-dev/\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     's-hernandez-dev/\\n' +"}}
[info] >      'https://github.com/ElvisHernand\n' + {"user":"    'https://github.com/ElvisHernand\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'https://github.com/ElvisHernand\\n' +"}}
[info] >      'ez\n' + {"user":"    'ez\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'ez\\n' +"}}
[info] >      'EDUCATION\n' + {"user":"    'EDUCATION\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'EDUCATION\\n' +"}}
[info] >      'B.S.\n' + {"user":"    'B.S.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'B.S.\\n' +"}}
[info] >      'Physics\n' + {"user":"    'Physics\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Physics\\n' +"}}
[info] >      'Florida International University\n' + {"user":"    'Florida International University\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Florida International University\\n' +"}}
[info] >      'Miami, FL\n' + {"user":"    'Miami, FL\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Miami, FL\\n' +"}}
[info] >      'SKILLS\n' + {"user":"    'SKILLS\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'SKILLS\\n' +"}}
[info] >      'Typescript\n' + {"user":"    'Typescript\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Typescript\\n' +"}}
[info] >      'Javascript (NodeJS, ExpressJS\n' + {"user":"    'Javascript (NodeJS, ExpressJS\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Javascript (NodeJS, ExpressJS\\n' +"}}
[info] >      'ReactJS, React Native, NextJS,\n' + {"user":"    'ReactJS, React Native, NextJS,\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'ReactJS, React Native, NextJS,\\n' +"}}
[info] >      'BlitzJS)\n' + {"user":"    'BlitzJS)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'BlitzJS)\\n' +"}}
[info] >      'HTML5/CSS\n' + {"user":"    'HTML5/CSS\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'HTML5/CSS\\n' +"}}
[info] >      'Python (Flask)\n' + {"user":"    'Python (Flask)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Python (Flask)\\n' +"}}
[info] >      'Ruby (Ruby on Rails)\n' + {"user":"    'Ruby (Ruby on Rails)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Ruby (Ruby on Rails)\\n' +"}}
[info] >      'SQL (PostgreSQL, NoSQL)\n' + {"user":"    'SQL (PostgreSQL, NoSQL)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'SQL (PostgreSQL, NoSQL)\\n' +"}}
[info] >      'AWS, GCP, Firebase\n' + {"user":"    'AWS, GCP, Firebase\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'AWS, GCP, Firebase\\n' +"}}
[info] >      'Linux, Git\n' + {"user":"    'Linux, Git\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Linux, Git\\n' +"}}
[info] >      'Docker\n' + {"user":"    'Docker\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Docker\\n' +"}}
[info] >      'Terraform\n' + {"user":"    'Terraform\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Terraform\\n' +"}}
[info] >      'GPT (Large Language Model)\n' + {"user":"    'GPT (Large Language Model)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'GPT (Large Language Model)\\n' +"}}
[info] >      'BullMQ\n' + {"user":"    'BullMQ\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'BullMQ\\n' +"}}
[info] >      'WORK EXPERIENCE\n' + {"user":"    'WORK EXPERIENCE\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'WORK EXPERIENCE\\n' +"}}
[info] >      'Founding Software Engineer\n' + {"user":"    'Founding Software Engineer\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Founding Software Engineer\\n' +"}}
[info] >      'Kraftful\n' + {"user":"    'Kraftful\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Kraftful\\n' +"}}
[info] >      'May 2023 - currentRemote\n' + {"user":"    'May 2023 - currentRemote\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'May 2023 - currentRemote\\n' +"}}
[info] >      'Collaborated with the engineering team to optimize Large Language\n' + {"user":"    'Collaborated with the engineering team to optimize Large Language\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Collaborated with the engineering team to optimize Large Language\\n' +"}}
[info] >      'Model (LLM) core functionality, contributing to a successful Product Hunt\n' + {"user":"    'Model (LLM) core functionality, contributing to a successful Product Hunt\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Model (LLM) core functionality, contributing to a successful Product Hunt\\n' +"}}
[info] >      'launch that attracted thousands of new users.\n' + {"user":"    'launch that attracted thousands of new users.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'launch that attracted thousands of new users.\\n' +"}}
[info] >      'Designed and implemented a distributed recursive algorithm using\n' + {"user":"    'Designed and implemented a distributed recursive algorithm using\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Designed and implemented a distributed recursive algorithm using\\n' +"}}
[info] >      'BullMQ, achieving a 10x increase in data ingestion rates for CSV data\n' + {"user":"    'BullMQ, achieving a 10x increase in data ingestion rates for CSV data\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'BullMQ, achieving a 10x increase in data ingestion rates for CSV data\\n' +"}}
[info] >      'sources.\n' + {"user":"    'sources.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'sources.\\n' +"}}
[info] >      'Developed robust end-to-end tests using Docker, GitHub Actions, and\n' + {"user":"    'Developed robust end-to-end tests using Docker, GitHub Actions, and\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Developed robust end-to-end tests using Docker, GitHub Actions, and\\n' +"}}
[info] >      'Playwright to identify and resolve regressions in LLM logic, enhancing\n' + {"user":"    'Playwright to identify and resolve regressions in LLM logic, enhancing\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Playwright to identify and resolve regressions in LLM logic, enhancing\\n' +"}}
[info] >      'overall system reliability.\n' + {"user":"    'overall system reliability.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'overall system reliability.\\n' +"}}
[info] >      'Integrated Slack notifications into a Blitz.js application to alert users of\n' + {"user":"    'Integrated Slack notifications into a Blitz.js application to alert users of\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Integrated Slack notifications into a Blitz.js application to alert users of\\n' +"}}
[info] >      'newly generated analyses, resulting in a near 100% increase in\n' + {"user":"    'newly generated analyses, resulting in a near 100% increase in\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'newly generated analyses, resulting in a near 100% increase in\\n' +"}}
[info] >      'communication efficiency.\n' + {"user":"    'communication efficiency.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'communication efficiency.\\n' +"}}
[info] >      'Software Engineer I/ Software Engineer II\n' + {"user":"    'Software Engineer I/ Software Engineer II\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Software Engineer I/ Software Engineer II\\n' +"}}
[info] >      'Onward Delivery\n' + {"user":"    'Onward Delivery\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Onward Delivery\\n' +"}}
[info] >      'May 2021 - May 2023Remote\n' + {"user":"    'May 2021 - May 2023Remote\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'May 2021 - May 2023Remote\\n' +"}}
[info] >      'As one of the first three software engineers at Onward, played a pivotal\n' + {"user":"    'As one of the first three software engineers at Onward, played a pivotal\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'As one of the first three software engineers at Onward, played a pivotal\\n' +"}}
[info] >      'role in scaling the product from a pre-seed MVP with fewer than 10\n' + {"user":"    'role in scaling the product from a pre-seed MVP with fewer than 10\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'role in scaling the product from a pre-seed MVP with fewer than 10\\n' +"}}
[info] >      'employees to a Techstars-backed, post-seed SaaS company that secured\n' + {"user":"    'employees to a Techstars-backed, post-seed SaaS company that secured\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'employees to a Techstars-backed, post-seed SaaS company that secured\\n' +"}}
[info] >      'a $4.7 million seed round and grew to approximately 34 employees.\n' + {"user":"    'a $4.7 million seed round and grew to approximately 34 employees.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'a $4.7 million seed round and grew to approximately 34 employees.\\n' +"}}
[info] >      'Developed a REST API in Node.js, enabling third-party users to access\n' + {"user":"    'Developed a REST API in Node.js, enabling third-party users to access\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Developed a REST API in Node.js, enabling third-party users to access\\n' +"}}
[info] >      'Order Management features. This API led to new retail-order capabilities\n' + {"user":"    'Order Management features. This API led to new retail-order capabilities\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Order Management features. This API led to new retail-order capabilities\\n' +"}}
[info] >      'and secured multiple six-figure per month contracts.\n' + {"user":"    'and secured multiple six-figure per month contracts.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'and secured multiple six-figure per month contracts.\\n' +"}}
[info] >      'Engineered an ETL pipeline using Node.js and GCP, streamlining data\n' + {"user":"    'Engineered an ETL pipeline using Node.js and GCP, streamlining data\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Engineered an ETL pipeline using Node.js and GCP, streamlining data\\n' +"}}
[info] >      'quality for KPI analytics via Mixpanel \n' + {"user":"    'quality for KPI analytics via Mixpanel \\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'quality for KPI analytics via Mixpanel \\n' +"}}
[info] >      'Conduct regular peer reviews of GitHub pull requests, contributing to\n' + {"user":"    'Conduct regular peer reviews of GitHub pull requests, contributing to\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Conduct regular peer reviews of GitHub pull requests, contributing to\\n' +"}}
[info] >      'enhanced code quality across multiple product features.\n' + {"user":"    'enhanced code quality across multiple product features.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'enhanced code quality across multiple product features.\\n' +"}}
[info] >      'Software Engineer\n' + {"user":"    'Software Engineer\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Software Engineer\\n' +"}}
[info] >      'Miami Dev Shop\n' + {"user":"    'Miami Dev Shop\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Miami Dev Shop\\n' +"}}
[info] >      'June 2020 - May 2021Miami, FL\n' + {"user":"    'June 2020 - May 2021Miami, FL\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'June 2020 - May 2021Miami, FL\\n' +"}}
[info] >      'Maintained and enhanced a Python-Flask web application, serving over\n' + {"user":"    'Maintained and enhanced a Python-Flask web application, serving over\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Maintained and enhanced a Python-Flask web application, serving over\\n' +"}}
[info] >      '90,000 users, with a focus on feature releases that increased active user\n' + {"user":"    '90,000 users, with a focus on feature releases that increased active user\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '90,000 users, with a focus on feature releases that increased active user\\n' +"}}
[info] >      'base to 2,000+.\n' + {"user":"    'base to 2,000+.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'base to 2,000+.\\n' +"}}
[info] >      'Developed reusable Infrastructure as Code (IaC) templates using\n' + {"user":"    'Developed reusable Infrastructure as Code (IaC) templates using\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Developed reusable Infrastructure as Code (IaC) templates using\\n' +"}}
[info] >      'Terraform, accelerating the onboarding process for new client projects. \n' + {"user":"    'Terraform, accelerating the onboarding process for new client projects. \\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Terraform, accelerating the onboarding process for new client projects. \\n' +"}}
[info] >      'Optimized SQL database queries, achieving a 100x improvement in load\n' + {"user":"    'Optimized SQL database queries, achieving a 100x improvement in load\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Optimized SQL database queries, achieving a 100x improvement in load\\n' +"}}
[info] >      'times and reducing critical network timeouts by 90%. \n' + {"user":"    'times and reducing critical network timeouts by 90%. \\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'times and reducing critical network timeouts by 90%. \\n' +"}}
[info] >      'Implemented automated testing and deployment pipelines using GitLab\n' + {"user":"    'Implemented automated testing and deployment pipelines using GitLab\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Implemented automated testing and deployment pipelines using GitLab\\n' +"}}
[info] >      'CI/CD, enhancing code quality and deployment speed.', {"user":"    'CI/CD, enhancing code quality and deployment speed.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'CI/CD, enhancing code quality and deployment speed.',"}}
[info] >    version: '1.10.100' {"user":"  version: '1.10.100'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   version: '1.10.100'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  The user:  { {"user":"The user:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The user:  {"}}
[info] >    email: 'elvishernandezdev@gmail.com', {"user":"  email: 'elvishernandezdev@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'elvishernandezdev@gmail.com',"}}
[info] >    encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d', {"user":"  encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   encryptedOpenAiKey: '76ee9df3642d59ae9b37cabcacfc99c1:554be74cd3f8ac2e58cb8b55aa01bf5a8c9e6d1ce04bcd1873b69e9e21d23ec2edc4e3fa8d32d712b6a076de37e4c9828f0717bdbcb2da0b2cba5d2c36d61f7d',"}}
[info] >    resumeFileName: 'resume.pdf', {"user":"  resumeFileName: 'resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   resumeFileName: 'resume.pdf',"}}
[info] >    uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO' {"user":"  uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   uid: 'XQgHUUgUyOVjsnx8IcarRTFyKWbO'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:25:40.469Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 338.1324ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 338.1324ms"}}
[debug] [2023-10-06T04:25:40.469Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: IDLE"}}
[debug] [2023-10-06T04:25:40.469Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:25:40.469Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:25:40.469Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:33:29.828Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:33:30.830Z] Validating nodejs source
[debug] [2023-10-06T04:33:31.312Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:33:31.312Z] Building nodejs source
[debug] [2023-10-06T04:33:31.312Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:33:31.313Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:33:31.314Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8387

[debug] [2023-10-06T04:33:31.647Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:33:31.657Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:33:31.657Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: FINISHING"}}
[debug] [2023-10-06T04:33:31.663Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: exited"}}
[debug] [2023-10-06T04:33:31.663Z] [worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d6de2160-6adb-41b4-8041-df2db117be47]: FINISHED"}}
[debug] [2023-10-06T04:33:38.330Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:33:39.330Z] Validating nodejs source
[debug] [2023-10-06T04:33:39.789Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:33:39.789Z] Building nodejs source
[debug] [2023-10-06T04:33:39.790Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:33:39.791Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:33:39.792Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8454

[debug] [2023-10-06T04:33:40.110Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:35:22.539Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:35:23.541Z] Validating nodejs source
[debug] [2023-10-06T04:35:24.371Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:35:24.371Z] Building nodejs source
[debug] [2023-10-06T04:35:24.371Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:35:24.372Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:35:24.373Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8476

[debug] [2023-10-06T04:35:24.508Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier
[info] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-10-06T04:35:25.017Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:35:26.018Z] Validating nodejs source
[debug] [2023-10-06T04:35:26.833Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:35:26.833Z] Building nodejs source
[debug] [2023-10-06T04:35:26.833Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:35:26.834Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:35:26.835Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8607

[debug] [2023-10-06T04:35:27.171Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:35:44.897Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:35:45.897Z] Validating nodejs source
[debug] [2023-10-06T04:35:46.474Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:35:46.474Z] Building nodejs source
[debug] [2023-10-06T04:35:46.474Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:35:46.475Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:35:46.476Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8461

[debug] [2023-10-06T04:35:46.791Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:36:00.366Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:00.366Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566960365","timestamp":"2023-10-06T04:36:00.365Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566339198","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:25:39.198Z","updated":"2023-10-06T04:25:39.198Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"u7AfN4Le5vUtz4FJX8p9vF8bJZU","metadata":{"firebaseStorageDownloadTokens":"b51a5f3a-38ca-4c43-90b4-e8a21e310086"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:25:39.198Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media"}}
[debug] [2023-10-06T04:36:00.370Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:00.370Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:00.371Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:00.371Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"db4d73f0-7eb8-4638-a3e0-c1d6684f0e8c","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:25:39.198Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566339198","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:25:39.198Z","updated":"2023-10-06T04:25:39.198Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"u7AfN4Le5vUtz4FJX8p9vF8bJZU","metadata":{"firebaseStorageDownloadTokens":"b51a5f3a-38ca-4c43-90b4-e8a21e310086"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:25:39.198Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566339198","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566339198&alt=media"}}
[debug] [2023-10-06T04:36:00.375Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:00.375Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:00.384Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:00.385Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566960384","timestamp":"2023-10-06T04:36:00.384Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566960378","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:00.378Z","updated":"2023-10-06T04:36:00.378Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0","metadata":{"firebaseStorageDownloadTokens":"765c3e86-182c-402c-85dd-fbfba591bab3"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:00.378Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media"}}
[debug] [2023-10-06T04:36:00.388Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:00.388Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:00.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:00.388Z"],"workRunningCount":1}
[debug] [2023-10-06T04:36:00.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:00.390Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:00.390Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:00.391Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:00.391Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"df8a225a-bca5-4975-b24c-a41e6db1e620","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:36:00.378Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566960378","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:00.378Z","updated":"2023-10-06T04:36:00.378Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0","metadata":{"firebaseStorageDownloadTokens":"765c3e86-182c-402c-85dd-fbfba591bab3"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:00.378Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media"}}
[debug] [2023-10-06T04:36:00.394Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:00.394Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:00.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:00.394Z"],"workRunningCount":1}
[debug] [2023-10-06T04:36:00.394Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:36:00.395Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:36:00.395Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:36:00.395Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:36:00.405Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:36:00.405Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:36:00.409Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:00.409Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:01.218Z] [runtime-status] [743] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:36:01.220Z] [runtime-status] [743] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:01.220Z] [runtime-status] [743] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:36:01.220Z] [runtime-status] [743] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:36:01.223Z] [runtime-status] [743] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:01.358Z] [runtime-status] [743] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:36:01.358Z] [runtime-status] [743] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:36:01.359Z] [runtime-status] [743] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:01.360Z] [runtime-status] [743] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:36:01.361Z] [runtime-status] [743] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:01.361Z] [runtime-status] [743] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:36:01.426Z] [runtime-status] [743] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:36:01.426Z] [runtime-status] [743] Listening to port: /tmp/fire_emu_1e706683055921c5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] Listening to port: /tmp/fire_emu_1e706683055921c5.sock"}}
[debug] [2023-10-06T04:36:01.521Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: IDLE"}}
[debug] [2023-10-06T04:36:01.521Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:36:01.522Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: BUSY"}}
[debug] [2023-10-06T04:36:01.533Z] [runtime-status] [743] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566960378","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:00.378Z","updated":"2023-10-06T04:36:00.378Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0","metadata":{"firebaseStorageDownloadTokens":"765c3e86-182c-402c-85dd-fbfba591bab3"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:00.378Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media"},"context":{"eventId":"1696566960384","timestamp":"2023-10-06T04:36:00.384Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [743] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566960378\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:36:00.378Z\",\"updated\":\"2023-10-06T04:36:00.378Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"765c3e86-182c-402c-85dd-fbfba591bab3\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:36:00.378Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media\"},\"context\":{\"eventId\":\"1696566960384\",\"timestamp\":\"2023-10-06T04:36:00.384Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566960378', {"user":"  generation: '1696566960378',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566960378',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:36:00.378Z', {"user":"  timeCreated: '2023-10-06T04:36:00.378Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:36:00.378Z',"}}
[info] >    updated: '2023-10-06T04:36:00.378Z', {"user":"  updated: '2023-10-06T04:36:00.378Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:36:00.378Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'mXxwlCDvS4Lwoc4DN4mD8ZCHZA0', {"user":"  etag: 'mXxwlCDvS4Lwoc4DN4mD8ZCHZA0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'mXxwlCDvS4Lwoc4DN4mD8ZCHZA0',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '765c3e86-182c-402c-85dd-fbfba591bab3' {"user":"    firebaseStorageDownloadTokens: '765c3e86-182c-402c-85dd-fbfba591bab3'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '765c3e86-182c-402c-85dd-fbfba591bab3'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:36:00.378Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:36:00.378Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:36:00.378Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ReferenceError: data is not defined\n    at /home/elvis/cover-letter-generator/functions/index.js:103:17\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"} {"user":{"severity":"ERROR","message":"ReferenceError: data is not defined\n    at /home/elvis/cover-letter-generator/functions/index.js:103:17\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: data is not defined\\n    at /home/elvis/cover-letter-generator/functions/index.js:103:17\\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21\"}"}}
[debug] [2023-10-06T04:36:01.797Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 276.0109ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 276.0109ms"}}
[debug] [2023-10-06T04:36:01.798Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: IDLE"}}
[debug] [2023-10-06T04:36:01.798Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:36:01.798Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:36:01.798Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:15.772Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:36:16.774Z] Validating nodejs source
[debug] [2023-10-06T04:36:17.285Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:36:17.285Z] Building nodejs source
[debug] [2023-10-06T04:36:17.285Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:36:17.286Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:36:17.287Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8686

[debug] [2023-10-06T04:36:17.637Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:36:17.647Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:36:17.648Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: FINISHING"}}
[debug] [2023-10-06T04:36:17.654Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: exited"}}
[debug] [2023-10-06T04:36:17.654Z] [worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-937252c2-f57d-4515-a6a0-ce2be7005aa5]: FINISHED"}}
[debug] [2023-10-06T04:36:28.646Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:28.647Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566988646","timestamp":"2023-10-06T04:36:28.646Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566960378","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:36:00.378Z","updated":"2023-10-06T04:36:00.378Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0","metadata":{"firebaseStorageDownloadTokens":"765c3e86-182c-402c-85dd-fbfba591bab3"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:00.378Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media"}}
[debug] [2023-10-06T04:36:28.650Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:28.650Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:28.650Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:28.650Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"03f9a0cb-8462-468d-a661-5f1374026873","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:36:00.378Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566960378","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:36:00.378Z","updated":"2023-10-06T04:36:00.378Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"mXxwlCDvS4Lwoc4DN4mD8ZCHZA0","metadata":{"firebaseStorageDownloadTokens":"765c3e86-182c-402c-85dd-fbfba591bab3"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:00.378Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566960378","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566960378&alt=media"}}
[debug] [2023-10-06T04:36:28.655Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:28.655Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:28.664Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:28.664Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696566988663","timestamp":"2023-10-06T04:36:28.663Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566988658","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:28.658Z","updated":"2023-10-06T04:36:28.658Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"457JuGNzJEh+7cp5VoLfUjQHSIk","metadata":{"firebaseStorageDownloadTokens":"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:28.658Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media"}}
[debug] [2023-10-06T04:36:28.666Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:28.666Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:28.667Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:28.666Z"],"workRunningCount":1}
[debug] [2023-10-06T04:36:28.667Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:28.669Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:28.669Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:28.669Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:36:28.669Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"d21cf789-a6d0-4224-914a-dd3761ddf81f","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:36:28.658Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566988658","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:28.658Z","updated":"2023-10-06T04:36:28.658Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"457JuGNzJEh+7cp5VoLfUjQHSIk","metadata":{"firebaseStorageDownloadTokens":"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:28.658Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media"}}
[debug] [2023-10-06T04:36:28.671Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:28.671Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:36:28.671Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:36:28.671Z"],"workRunningCount":1}
[debug] [2023-10-06T04:36:28.671Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:36:28.672Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:36:28.672Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:36:28.672Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:36:28.679Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:36:28.679Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:36:28.683Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:36:28.683Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:36:29.272Z] [runtime-status] [978] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:36:29.273Z] [runtime-status] [978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:29.273Z] [runtime-status] [978] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:36:29.274Z] [runtime-status] [978] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:36:29.274Z] [runtime-status] [978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:29.394Z] [runtime-status] [978] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:36:29.394Z] [runtime-status] [978] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:36:29.395Z] [runtime-status] [978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:29.397Z] [runtime-status] [978] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:36:29.398Z] [runtime-status] [978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:36:29.398Z] [runtime-status] [978] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:36:29.461Z] [runtime-status] [978] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:36:29.461Z] [runtime-status] [978] Listening to port: /tmp/fire_emu_c20ff91442052b88.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] Listening to port: /tmp/fire_emu_c20ff91442052b88.sock"}}
[debug] [2023-10-06T04:36:29.492Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: IDLE"}}
[debug] [2023-10-06T04:36:29.492Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:36:29.493Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: BUSY"}}
[debug] [2023-10-06T04:36:29.501Z] [runtime-status] [978] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566988658","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:36:28.658Z","updated":"2023-10-06T04:36:28.658Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"457JuGNzJEh+7cp5VoLfUjQHSIk","metadata":{"firebaseStorageDownloadTokens":"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:28.658Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media"},"context":{"eventId":"1696566988663","timestamp":"2023-10-06T04:36:28.663Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [978] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696566988658\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:36:28.658Z\",\"updated\":\"2023-10-06T04:36:28.658Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"457JuGNzJEh+7cp5VoLfUjQHSIk\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:36:28.658Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media\"},\"context\":{\"eventId\":\"1696566988663\",\"timestamp\":\"2023-10-06T04:36:28.663Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696566988658', {"user":"  generation: '1696566988658',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696566988658',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:36:28.658Z', {"user":"  timeCreated: '2023-10-06T04:36:28.658Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:36:28.658Z',"}}
[info] >    updated: '2023-10-06T04:36:28.658Z', {"user":"  updated: '2023-10-06T04:36:28.658Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:36:28.658Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: '457JuGNzJEh+7cp5VoLfUjQHSIk', {"user":"  etag: '457JuGNzJEh+7cp5VoLfUjQHSIk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: '457JuGNzJEh+7cp5VoLfUjQHSIk',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad' {"user":"    firebaseStorageDownloadTokens: '4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:36:28.658Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:36:28.658Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:36:28.658Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  The chat completion  { {"user":"The chat completion  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The chat completion  {"}}
[info] >    id: 'chatcmpl-86Wre8wlrzJ1Kwmf0KKl9uQHJsEmZ', {"user":"  id: 'chatcmpl-86Wre8wlrzJ1Kwmf0KKl9uQHJsEmZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'chatcmpl-86Wre8wlrzJ1Kwmf0KKl9uQHJsEmZ',"}}
[info] >    object: 'chat.completion', {"user":"  object: 'chat.completion',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'chat.completion',"}}
[info] >    created: 1696566990, {"user":"  created: 1696566990,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   created: 1696566990,"}}
[info] >    model: 'gpt-3.5-turbo-0613', {"user":"  model: 'gpt-3.5-turbo-0613',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   model: 'gpt-3.5-turbo-0613',"}}
[info] >    choices: [ { index: 0, message: [Object], finish_reason: 'stop' } ], {"user":"  choices: [ { index: 0, message: [Object], finish_reason: 'stop' } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   choices: [ { index: 0, message: [Object], finish_reason: 'stop' } ],"}}
[info] >    usage: { prompt_tokens: 686, completion_tokens: 325, total_tokens: 1011 } {"user":"  usage: { prompt_tokens: 686, completion_tokens: 325, total_tokens: 1011 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   usage: { prompt_tokens: 686, completion_tokens: 325, total_tokens: 1011 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:36:51.017Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 21525.6114ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 21525.6114ms"}}
[debug] [2023-10-06T04:36:51.018Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: IDLE"}}
[debug] [2023-10-06T04:36:51.018Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:36:51.018Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:36:51.019Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:37:59.408Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:38:00.408Z] Validating nodejs source
[debug] [2023-10-06T04:38:00.913Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:38:00.914Z] Building nodejs source
[debug] [2023-10-06T04:38:00.914Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:38:00.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:38:00.916Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8779

[debug] [2023-10-06T04:38:01.306Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:38:01.317Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:38:01.317Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: FINISHING"}}
[debug] [2023-10-06T04:38:01.323Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: exited"}}
[debug] [2023-10-06T04:38:01.323Z] [worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5befc260-8642-4da5-ba81-569c0e474f9d]: FINISHED"}}
[debug] [2023-10-06T04:38:13.162Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:38:13.163Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567093162","timestamp":"2023-10-06T04:38:13.162Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566988658","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:36:28.658Z","updated":"2023-10-06T04:36:28.658Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"457JuGNzJEh+7cp5VoLfUjQHSIk","metadata":{"firebaseStorageDownloadTokens":"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:28.658Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media"}}
[debug] [2023-10-06T04:38:13.166Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:38:13.166Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:38:13.166Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:38:13.166Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"d82a91c2-6f1f-4106-b6e9-fe2797b3e490","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:36:28.658Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696566988658","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:36:28.658Z","updated":"2023-10-06T04:36:28.658Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"457JuGNzJEh+7cp5VoLfUjQHSIk","metadata":{"firebaseStorageDownloadTokens":"4ccfd1d7-0fb8-4d80-8f9c-a6f212b287ad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:36:28.658Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696566988658","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696566988658&alt=media"}}
[debug] [2023-10-06T04:38:13.170Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:38:13.170Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:38:13.178Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:38:13.178Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567093178","timestamp":"2023-10-06T04:38:13.178Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567093173","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:38:13.173Z","updated":"2023-10-06T04:38:13.173Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"zcBNWUiESf/mn43c0x8fCPjgcn4","metadata":{"firebaseStorageDownloadTokens":"9e998a1e-d58a-49d8-a664-5ec645dff8d7"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:38:13.173Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media"}}
[debug] [2023-10-06T04:38:13.181Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:38:13.181Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:38:13.181Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:38:13.181Z"],"workRunningCount":1}
[debug] [2023-10-06T04:38:13.181Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:38:13.182Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:38:13.183Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:38:13.183Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:38:13.183Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"9a53cf80-57cf-4d16-84e2-67f331a7b54b","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:38:13.173Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567093173","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:38:13.173Z","updated":"2023-10-06T04:38:13.173Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"zcBNWUiESf/mn43c0x8fCPjgcn4","metadata":{"firebaseStorageDownloadTokens":"9e998a1e-d58a-49d8-a664-5ec645dff8d7"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:38:13.173Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media"}}
[debug] [2023-10-06T04:38:13.186Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:38:13.186Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:38:13.186Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:38:13.186Z"],"workRunningCount":1}
[debug] [2023-10-06T04:38:13.186Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:38:13.186Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:38:13.187Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:38:13.187Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:38:13.194Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:38:13.195Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:38:13.198Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:38:13.198Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:38:13.984Z] [runtime-status] [1534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:38:13.986Z] [runtime-status] [1534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:38:13.986Z] [runtime-status] [1534] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:38:13.986Z] [runtime-status] [1534] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:38:13.987Z] [runtime-status] [1534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:38:14.112Z] [runtime-status] [1534] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:38:14.113Z] [runtime-status] [1534] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:38:14.114Z] [runtime-status] [1534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:38:14.114Z] [runtime-status] [1534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:38:14.116Z] [runtime-status] [1534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:38:14.116Z] [runtime-status] [1534] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:38:14.182Z] [runtime-status] [1534] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:38:14.182Z] [runtime-status] [1534] Listening to port: /tmp/fire_emu_fe680bc7ca34e718.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] Listening to port: /tmp/fire_emu_fe680bc7ca34e718.sock"}}
[debug] [2023-10-06T04:38:14.208Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: IDLE"}}
[debug] [2023-10-06T04:38:14.208Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:38:14.209Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: BUSY"}}
[debug] [2023-10-06T04:38:14.217Z] [runtime-status] [1534] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567093173","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:38:13.173Z","updated":"2023-10-06T04:38:13.173Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"zcBNWUiESf/mn43c0x8fCPjgcn4","metadata":{"firebaseStorageDownloadTokens":"9e998a1e-d58a-49d8-a664-5ec645dff8d7"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:38:13.173Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media"},"context":{"eventId":"1696567093178","timestamp":"2023-10-06T04:38:13.178Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [1534] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696567093173\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:38:13.173Z\",\"updated\":\"2023-10-06T04:38:13.173Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"zcBNWUiESf/mn43c0x8fCPjgcn4\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"9e998a1e-d58a-49d8-a664-5ec645dff8d7\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:38:13.173Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media\"},\"context\":{\"eventId\":\"1696567093178\",\"timestamp\":\"2023-10-06T04:38:13.178Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696567093173', {"user":"  generation: '1696567093173',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696567093173',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:38:13.173Z', {"user":"  timeCreated: '2023-10-06T04:38:13.173Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:38:13.173Z',"}}
[info] >    updated: '2023-10-06T04:38:13.173Z', {"user":"  updated: '2023-10-06T04:38:13.173Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:38:13.173Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'zcBNWUiESf/mn43c0x8fCPjgcn4', {"user":"  etag: 'zcBNWUiESf/mn43c0x8fCPjgcn4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'zcBNWUiESf/mn43c0x8fCPjgcn4',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '9e998a1e-d58a-49d8-a664-5ec645dff8d7' {"user":"    firebaseStorageDownloadTokens: '9e998a1e-d58a-49d8-a664-5ec645dff8d7'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '9e998a1e-d58a-49d8-a664-5ec645dff8d7'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:38:13.173Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:38:13.173Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:38:13.173Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  The chat completion  { {"user":"The chat completion  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The chat completion  {"}}
[info] >    role: 'assistant', {"user":"  role: 'assistant',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   role: 'assistant',"}}
[info] >    content: 'Summary:\n' + {"user":"  content: 'Summary:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: 'Summary:\\n' +"}}
[info] >      'Elvis Hernandez is a software engineer with a strong background in Physics. He has expertise in a wide range of technologies including Typescript, JavaScript, ReactJS, Python, Ruby on Rails, AWS, GCP, and Docker. Elvis has experience in optimizing Large Language Models, implementing distributed algorithms, and developing end-to-end tests. He has played a pivotal role in scaling a SaaS company and has demonstrated his ability to deliver impactful solutions in previous roles.\n' + {"user":"    'Elvis Hernandez is a software engineer with a strong background in Physics. He has expertise in a wide range of technologies including Typescript, JavaScript, ReactJS, Python, Ruby on Rails, AWS, GCP, and Docker. Elvis has experience in optimizing Large Language Models, implementing distributed algorithms, and developing end-to-end tests. He has played a pivotal role in scaling a SaaS company and has demonstrated his ability to deliver impactful solutions in previous roles.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Elvis Hernandez is a software engineer with a strong background in Physics. He has expertise in a wide range of technologies including Typescript, JavaScript, ReactJS, Python, Ruby on Rails, AWS, GCP, and Docker. Elvis has experience in optimizing Large Language Models, implementing distributed algorithms, and developing end-to-end tests. He has played a pivotal role in scaling a SaaS company and has demonstrated his ability to deliver impactful solutions in previous roles.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'Key Skills:\n' + {"user":"    'Key Skills:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Key Skills:\\n' +"}}
[info] >      '- Typescript\n' + {"user":"    '- Typescript\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Typescript\\n' +"}}
[info] >      '- JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS)\n' + {"user":"    '- JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS)\\n' +"}}
[info] >      '- HTML5/CSS\n' + {"user":"    '- HTML5/CSS\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- HTML5/CSS\\n' +"}}
[info] >      '- Python (Flask)\n' + {"user":"    '- Python (Flask)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Python (Flask)\\n' +"}}
[info] >      '- Ruby (Ruby on Rails)\n' + {"user":"    '- Ruby (Ruby on Rails)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Ruby (Ruby on Rails)\\n' +"}}
[info] >      '- SQL (PostgreSQL, NoSQL)\n' + {"user":"    '- SQL (PostgreSQL, NoSQL)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- SQL (PostgreSQL, NoSQL)\\n' +"}}
[info] >      '- AWS, GCP, Firebase\n' + {"user":"    '- AWS, GCP, Firebase\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- AWS, GCP, Firebase\\n' +"}}
[info] >      '- Linux, Git\n' + {"user":"    '- Linux, Git\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Linux, Git\\n' +"}}
[info] >      '- Docker\n' + {"user":"    '- Docker\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Docker\\n' +"}}
[info] >      '- Terraform\n' + {"user":"    '- Terraform\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Terraform\\n' +"}}
[info] >      '- GPT (Large Language Model)\n' + {"user":"    '- GPT (Large Language Model)\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- GPT (Large Language Model)\\n' +"}}
[info] >      '- BullMQ\n' + {"user":"    '- BullMQ\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- BullMQ\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'Relevant Work Experiences/Accomplishments:\n' + {"user":"    'Relevant Work Experiences/Accomplishments:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Relevant Work Experiences/Accomplishments:\\n' +"}}
[info] >      '- Founding Software Engineer at Kraftful: Optimized Large Language Model (LLM) core functionality, leading to a successful Product Hunt launch. Implemented a distributed recursive algorithm using BullMQ, resulting in a 10x increase in data ingestion rates. Developed robust end-to-end tests to enhance system reliability.\n' + {"user":"    '- Founding Software Engineer at Kraftful: Optimized Large Language Model (LLM) core functionality, leading to a successful Product Hunt launch. Implemented a distributed recursive algorithm using BullMQ, resulting in a 10x increase in data ingestion rates. Developed robust end-to-end tests to enhance system reliability.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Founding Software Engineer at Kraftful: Optimized Large Language Model (LLM) core functionality, leading to a successful Product Hunt launch. Implemented a distributed recursive algorithm using BullMQ, resulting in a 10x increase in data ingestion rates. Developed robust end-to-end tests to enhance system reliability.\\n' +"}}
[info] >      '- Software Engineer at Onward Delivery: Played a key role in scaling the company, securing funding, and growing the team. Developed a REST API in Node.js, enabling new retail-order capabilities. Engineered an ETL pipeline for data quality improvement.\n' + {"user":"    '- Software Engineer at Onward Delivery: Played a key role in scaling the company, securing funding, and growing the team. Developed a REST API in Node.js, enabling new retail-order capabilities. Engineered an ETL pipeline for data quality improvement.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Software Engineer at Onward Delivery: Played a key role in scaling the company, securing funding, and growing the team. Developed a REST API in Node.js, enabling new retail-order capabilities. Engineered an ETL pipeline for data quality improvement.\\n' +"}}
[info] >      '- Software Engineer at Miami Dev Shop: Maintained and enhanced a Python-Flask web application with a large user base. Developed reusable Infrastructure as Code (IaC) templates using Terraform. Optimized SQL database queries for improved performance. Implemented automated testing and deployment pipelines.' {"user":"    '- Software Engineer at Miami Dev Shop: Maintained and enhanced a Python-Flask web application with a large user base. Developed reusable Infrastructure as Code (IaC) templates using Terraform. Optimized SQL database queries for improved performance. Implemented automated testing and deployment pipelines.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- Software Engineer at Miami Dev Shop: Maintained and enhanced a Python-Flask web application with a large user base. Developed reusable Infrastructure as Code (IaC) templates using Terraform. Optimized SQL database queries for improved performance. Implemented automated testing and deployment pipelines.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:38:37.792Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 23583.6979ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 23583.6979ms"}}
[debug] [2023-10-06T04:38:37.793Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: IDLE"}}
[debug] [2023-10-06T04:38:37.793Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:38:37.793Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:38:37.793Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:44:17.627Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:44:18.628Z] Validating nodejs source
[debug] [2023-10-06T04:44:19.126Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:44:19.127Z] Building nodejs source
[debug] [2023-10-06T04:44:19.127Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:44:19.128Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:44:19.129Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8640

[debug] [2023-10-06T04:44:19.450Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:44:19.459Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:44:19.459Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: FINISHING"}}
[debug] [2023-10-06T04:44:19.465Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: exited"}}
[debug] [2023-10-06T04:44:19.465Z] [worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-41c1865c-35d8-472b-a629-699524a23203]: FINISHED"}}
[debug] [2023-10-06T04:44:35.284Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:44:35.284Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567475284","timestamp":"2023-10-06T04:44:35.284Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567093173","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:38:13.173Z","updated":"2023-10-06T04:38:13.173Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"zcBNWUiESf/mn43c0x8fCPjgcn4","metadata":{"firebaseStorageDownloadTokens":"9e998a1e-d58a-49d8-a664-5ec645dff8d7"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:38:13.173Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media"}}
[debug] [2023-10-06T04:44:35.288Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:44:35.288Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:44:35.288Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:44:35.288Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"d56fae6f-baf5-47c0-bffd-5a0cb59c1d6f","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:38:13.173Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567093173","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:38:13.173Z","updated":"2023-10-06T04:38:13.173Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"zcBNWUiESf/mn43c0x8fCPjgcn4","metadata":{"firebaseStorageDownloadTokens":"9e998a1e-d58a-49d8-a664-5ec645dff8d7"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:38:13.173Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567093173","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567093173&alt=media"}}
[debug] [2023-10-06T04:44:35.292Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:44:35.292Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:44:35.299Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:44:35.300Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567475299","timestamp":"2023-10-06T04:44:35.299Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567475295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:44:35.295Z","updated":"2023-10-06T04:44:35.295Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"P0yGwnJskTmQe9vle02687h4We4","metadata":{"firebaseStorageDownloadTokens":"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:44:35.295Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media"}}
[debug] [2023-10-06T04:44:35.302Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:44:35.302Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:44:35.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:44:35.302Z"],"workRunningCount":1}
[debug] [2023-10-06T04:44:35.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:44:35.306Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:44:35.306Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:44:35.306Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:44:35.306Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"6b67aed3-aed6-4514-a541-90d1fe9576dc","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:44:35.295Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567475295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:44:35.295Z","updated":"2023-10-06T04:44:35.295Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"P0yGwnJskTmQe9vle02687h4We4","metadata":{"firebaseStorageDownloadTokens":"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:44:35.295Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media"}}
[debug] [2023-10-06T04:44:35.308Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:44:35.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:44:35.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:44:35.308Z"],"workRunningCount":1}
[debug] [2023-10-06T04:44:35.308Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:44:35.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:44:35.308Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:44:35.308Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:44:35.317Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:44:35.317Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:44:35.321Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:44:35.321Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:44:36.049Z] [runtime-status] [2883] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:44:36.051Z] [runtime-status] [2883] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:44:36.051Z] [runtime-status] [2883] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:44:36.051Z] [runtime-status] [2883] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:44:36.052Z] [runtime-status] [2883] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:44:36.163Z] [runtime-status] [2883] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:44:36.164Z] [runtime-status] [2883] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:44:36.165Z] [runtime-status] [2883] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:44:36.167Z] [runtime-status] [2883] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:44:36.168Z] [runtime-status] [2883] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:44:36.168Z] [runtime-status] [2883] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:44:36.228Z] [runtime-status] [2883] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:44:36.228Z] [runtime-status] [2883] Listening to port: /tmp/fire_emu_7ff6e711ae15dd52.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] Listening to port: /tmp/fire_emu_7ff6e711ae15dd52.sock"}}
[debug] [2023-10-06T04:44:36.334Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: IDLE"}}
[debug] [2023-10-06T04:44:36.335Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:44:36.335Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: BUSY"}}
[debug] [2023-10-06T04:44:36.347Z] [runtime-status] [2883] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567475295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:44:35.295Z","updated":"2023-10-06T04:44:35.295Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"P0yGwnJskTmQe9vle02687h4We4","metadata":{"firebaseStorageDownloadTokens":"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:44:35.295Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media"},"context":{"eventId":"1696567475299","timestamp":"2023-10-06T04:44:35.299Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [2883] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696567475295\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:44:35.295Z\",\"updated\":\"2023-10-06T04:44:35.295Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"P0yGwnJskTmQe9vle02687h4We4\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:44:35.295Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media\"},\"context\":{\"eventId\":\"1696567475299\",\"timestamp\":\"2023-10-06T04:44:35.299Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696567475295', {"user":"  generation: '1696567475295',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696567475295',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:44:35.295Z', {"user":"  timeCreated: '2023-10-06T04:44:35.295Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:44:35.295Z',"}}
[info] >    updated: '2023-10-06T04:44:35.295Z', {"user":"  updated: '2023-10-06T04:44:35.295Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:44:35.295Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'P0yGwnJskTmQe9vle02687h4We4', {"user":"  etag: 'P0yGwnJskTmQe9vle02687h4We4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'P0yGwnJskTmQe9vle02687h4We4',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8' {"user":"    firebaseStorageDownloadTokens: 'c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:44:35.295Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:44:35.295Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:44:35.295Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  The chat completion  { {"user":"The chat completion  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The chat completion  {"}}
[info] >    role: 'assistant', {"user":"  role: 'assistant',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   role: 'assistant',"}}
[info] >    content: "1. With a Bachelor's degree in Physics and a strong background in software engineering, I have gained valuable skills in various programming languages and technologies. I have worked in both start-up and corporate environments, contributing to the success of products and projects through my technical expertise.\n" + {"user":"  content: \"1. With a Bachelor's degree in Physics and a strong background in software engineering, I have gained valuable skills in various programming languages and technologies. I have worked in both start-up and corporate environments, contributing to the success of products and projects through my technical expertise.\\n\" +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: \"1. With a Bachelor's degree in Physics and a strong background in software engineering, I have gained valuable skills in various programming languages and technologies. I have worked in both start-up and corporate environments, contributing to the success of products and projects through my technical expertise.\\n\" +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\n' + {"user":"    '2. My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. In my role as a Founding Software Engineer at Kraftful, I have been involved in optimizing Large Language Model (LLM) functionality, implementing distributed algorithms, and improving end-to-end tests for enhanced system reliability. At Onward Delivery, I played a key role in scaling the product, securing major contracts, and developing an ETL pipeline for data quality. Additionally, at Miami Dev Shop, I maintained and enhanced a web application, increased the active user base, and optimized database queries for improved performance.' {"user":"    '3. In my role as a Founding Software Engineer at Kraftful, I have been involved in optimizing Large Language Model (LLM) functionality, implementing distributed algorithms, and improving end-to-end tests for enhanced system reliability. At Onward Delivery, I played a key role in scaling the product, securing major contracts, and developing an ETL pipeline for data quality. Additionally, at Miami Dev Shop, I maintained and enhanced a web application, increased the active user base, and optimized database queries for improved performance.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. In my role as a Founding Software Engineer at Kraftful, I have been involved in optimizing Large Language Model (LLM) functionality, implementing distributed algorithms, and improving end-to-end tests for enhanced system reliability. At Onward Delivery, I played a key role in scaling the product, securing major contracts, and developing an ETL pipeline for data quality. Additionally, at Miami Dev Shop, I maintained and enhanced a web application, increased the active user base, and optimized database queries for improved performance.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:44:54.928Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 18593.2905ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 18593.2905ms"}}
[debug] [2023-10-06T04:44:54.929Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: IDLE"}}
[debug] [2023-10-06T04:44:54.929Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:44:54.929Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:44:54.929Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:47:14.497Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T04:47:15.498Z] Validating nodejs source
[debug] [2023-10-06T04:47:15.962Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:47:15.962Z] Building nodejs source
[debug] [2023-10-06T04:47:15.963Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:47:15.963Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:47:15.964Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8003

[debug] [2023-10-06T04:47:16.274Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:47:16.283Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:47:16.283Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: FINISHING"}}
[debug] [2023-10-06T04:47:16.289Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: exited"}}
[debug] [2023-10-06T04:47:16.290Z] [worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-e72e2e15-cb39-4e00-9b03-25dea0665b3f]: FINISHED"}}
[debug] [2023-10-06T04:47:28.355Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:47:28.356Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567648355","timestamp":"2023-10-06T04:47:28.355Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567475295","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:44:35.295Z","updated":"2023-10-06T04:44:35.295Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"P0yGwnJskTmQe9vle02687h4We4","metadata":{"firebaseStorageDownloadTokens":"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:44:35.295Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media"}}
[debug] [2023-10-06T04:47:28.360Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:47:28.360Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:47:28.360Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:47:28.360Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"7ef84479-4be7-497c-8e43-0fe12cb6704b","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:44:35.295Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567475295","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:44:35.295Z","updated":"2023-10-06T04:44:35.295Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"P0yGwnJskTmQe9vle02687h4We4","metadata":{"firebaseStorageDownloadTokens":"c5cf8dd4-4a7a-4db7-a24c-343bc4d571b8"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:44:35.295Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567475295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567475295&alt=media"}}
[debug] [2023-10-06T04:47:28.364Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:47:28.364Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:47:28.369Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:47:28.369Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696567648369","timestamp":"2023-10-06T04:47:28.369Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567648366","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:47:28.366Z","updated":"2023-10-06T04:47:28.366Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gueKUxOrrzf+RR7mPaL+7dOW7ao","metadata":{"firebaseStorageDownloadTokens":"a87ec38c-c682-47fb-a054-88bd5956a273"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:47:28.366Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media"}}
[debug] [2023-10-06T04:47:28.373Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:47:28.373Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:47:28.374Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T04:47:28.373Z"],"workRunningCount":1}
[debug] [2023-10-06T04:47:28.374Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:47:28.375Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:47:28.375Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:47:28.375Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T04:47:28.375Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"2ae59d5c-f9bd-44a2-8cd0-9a2bbfb750ca","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:47:28.366Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567648366","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:47:28.366Z","updated":"2023-10-06T04:47:28.366Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gueKUxOrrzf+RR7mPaL+7dOW7ao","metadata":{"firebaseStorageDownloadTokens":"a87ec38c-c682-47fb-a054-88bd5956a273"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:47:28.366Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media"}}
[debug] [2023-10-06T04:47:28.377Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:47:28.377Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:47:28.377Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T04:47:28.377Z"],"workRunningCount":1}
[debug] [2023-10-06T04:47:28.377Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T04:47:28.377Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T04:47:28.377Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T04:47:28.377Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T04:47:28.384Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:47:28.384Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T04:47:28.388Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T04:47:28.388Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T04:47:29.116Z] [runtime-status] [3630] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:47:29.117Z] [runtime-status] [3630] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:47:29.118Z] [runtime-status] [3630] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T04:47:29.118Z] [runtime-status] [3630] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T04:47:29.119Z] [runtime-status] [3630] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:47:29.235Z] [runtime-status] [3630] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T04:47:29.235Z] [runtime-status] [3630] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T04:47:29.236Z] [runtime-status] [3630] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:47:29.237Z] [runtime-status] [3630] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T04:47:29.239Z] [runtime-status] [3630] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T04:47:29.239Z] [runtime-status] [3630] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T04:47:29.300Z] [runtime-status] [3630] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T04:47:29.300Z] [runtime-status] [3630] Listening to port: /tmp/fire_emu_7770d320f9a9fe52.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] Listening to port: /tmp/fire_emu_7770d320f9a9fe52.sock"}}
[debug] [2023-10-06T04:47:29.398Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: IDLE"}}
[debug] [2023-10-06T04:47:29.398Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T04:47:29.398Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: BUSY"}}
[debug] [2023-10-06T04:47:29.408Z] [runtime-status] [3630] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567648366","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T04:47:28.366Z","updated":"2023-10-06T04:47:28.366Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gueKUxOrrzf+RR7mPaL+7dOW7ao","metadata":{"firebaseStorageDownloadTokens":"a87ec38c-c682-47fb-a054-88bd5956a273"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:47:28.366Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media"},"context":{"eventId":"1696567648369","timestamp":"2023-10-06T04:47:28.369Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [3630] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696567648366\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T04:47:28.366Z\",\"updated\":\"2023-10-06T04:47:28.366Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"gueKUxOrrzf+RR7mPaL+7dOW7ao\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"a87ec38c-c682-47fb-a054-88bd5956a273\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T04:47:28.366Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media\"},\"context\":{\"eventId\":\"1696567648369\",\"timestamp\":\"2023-10-06T04:47:28.369Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696567648366', {"user":"  generation: '1696567648366',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696567648366',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T04:47:28.366Z', {"user":"  timeCreated: '2023-10-06T04:47:28.366Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T04:47:28.366Z',"}}
[info] >    updated: '2023-10-06T04:47:28.366Z', {"user":"  updated: '2023-10-06T04:47:28.366Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T04:47:28.366Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'gueKUxOrrzf+RR7mPaL+7dOW7ao', {"user":"  etag: 'gueKUxOrrzf+RR7mPaL+7dOW7ao',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'gueKUxOrrzf+RR7mPaL+7dOW7ao',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'a87ec38c-c682-47fb-a054-88bd5956a273' {"user":"    firebaseStorageDownloadTokens: 'a87ec38c-c682-47fb-a054-88bd5956a273'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'a87ec38c-c682-47fb-a054-88bd5956a273'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T04:47:28.366Z', {"user":"  timeStorageClassUpdated: '2023-10-06T04:47:28.366Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T04:47:28.366Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  The download url:  [ {"user":"The download url:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The download url:  ["}}
[info] >    <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes> {"user":"  <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   <Buffer 25 50 44 46 2d 31 2e 34 0a 25 e2 e3 cf d3 0a 31 20 30 20 6f 62 6a 0a 3c 3c 0a 2f 43 6f 75 6e 74 20 31 0a 2f 4b 69 64 73 20 5b 20 33 20 30 20 52 20 5d ... 42744 more bytes>"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  The chat completion  { {"user":"The chat completion  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m The chat completion  {"}}
[info] >    role: 'assistant', {"user":"  role: 'assistant',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   role: 'assistant',"}}
[info] >    content: '1. Elvis Hernandez is a software engineer with a background in physics. He has a strong proficiency in multiple programming languages such as Typescript, JavaScript, Python, and Ruby, and has experience working with various technologies and platforms like AWS, GCP, and Docker. Elvis has a proven track record of optimizing and developing robust software solutions, contributing to the growth and success of the companies he has worked with.\n' + {"user":"  content: '1. Elvis Hernandez is a software engineer with a background in physics. He has a strong proficiency in multiple programming languages such as Typescript, JavaScript, Python, and Ruby, and has experience working with various technologies and platforms like AWS, GCP, and Docker. Elvis has a proven track record of optimizing and developing robust software solutions, contributing to the growth and success of the companies he has worked with.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: '1. Elvis Hernandez is a software engineer with a background in physics. He has a strong proficiency in multiple programming languages such as Typescript, JavaScript, Python, and Ruby, and has experience working with various technologies and platforms like AWS, GCP, and Docker. Elvis has a proven track record of optimizing and developing robust software solutions, contributing to the growth and success of the companies he has worked with.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. Key skills of Elvis Hernandez include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\n' + {"user":"    '2. Key skills of Elvis Hernandez include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. Key skills of Elvis Hernandez include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. In his most recent role as a Founding Software Engineer at Kraftful, Elvis played a key role in optimizing the core functionality of a Large Language Model (LLM) and achieved a successful Product Hunt launch. He also implemented a distributed algorithm using BullMQ, resulting in a significant increase in data ingestion rates. Additionally, Elvis contributed to enhancing overall system reliability by developing robust end-to-end tests and integrating Slack notifications into a Blitz.js application. Prior to that, Elvis was part of the software engineering team at Onward Delivery where he played a vital role in scaling the product, developed REST APIs, and engineered an ETL pipeline for data analytics. In his earlier role at Miami Dev Shop, Elvis maintained and enhanced a Python-Flask web application, developed reusable Infrastructure as Code (IaC) templates using Terraform, and optimized SQL database queries.' {"user":"    '3. In his most recent role as a Founding Software Engineer at Kraftful, Elvis played a key role in optimizing the core functionality of a Large Language Model (LLM) and achieved a successful Product Hunt launch. He also implemented a distributed algorithm using BullMQ, resulting in a significant increase in data ingestion rates. Additionally, Elvis contributed to enhancing overall system reliability by developing robust end-to-end tests and integrating Slack notifications into a Blitz.js application. Prior to that, Elvis was part of the software engineering team at Onward Delivery where he played a vital role in scaling the product, developed REST APIs, and engineered an ETL pipeline for data analytics. In his earlier role at Miami Dev Shop, Elvis maintained and enhanced a Python-Flask web application, developed reusable Infrastructure as Code (IaC) templates using Terraform, and optimized SQL database queries.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. In his most recent role as a Founding Software Engineer at Kraftful, Elvis played a key role in optimizing the core functionality of a Large Language Model (LLM) and achieved a successful Product Hunt launch. He also implemented a distributed algorithm using BullMQ, resulting in a significant increase in data ingestion rates. Additionally, Elvis contributed to enhancing overall system reliability by developing robust end-to-end tests and integrating Slack notifications into a Blitz.js application. Prior to that, Elvis was part of the software engineering team at Onward Delivery where he played a vital role in scaling the product, developed REST APIs, and engineered an ETL pipeline for data analytics. In his earlier role at Miami Dev Shop, Elvis maintained and enhanced a Python-Flask web application, developed reusable Infrastructure as Code (IaC) templates using Terraform, and optimized SQL database queries.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T04:47:51.810Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 22411.5387ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 22411.5387ms"}}
[debug] [2023-10-06T04:47:51.811Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: IDLE"}}
[debug] [2023-10-06T04:47:51.811Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T04:47:51.811Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T04:47:51.811Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T04:48:29.827Z] File /home/elvis/cover-letter-generator/functions/gpt-response.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/gpt-response.json changed, reloading triggers"}}
[debug] [2023-10-06T04:48:30.829Z] Validating nodejs source
[debug] [2023-10-06T04:48:31.330Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T04:48:31.330Z] Building nodejs source
[debug] [2023-10-06T04:48:31.330Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T04:48:31.331Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T04:48:31.332Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8564

[debug] [2023-10-06T04:48:31.705Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T04:48:31.716Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T04:48:31.716Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: FINISHING"}}
[debug] [2023-10-06T04:48:31.724Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: exited"}}
[debug] [2023-10-06T04:48:31.724Z] [worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-c923a89d-c52a-4ed1-846f-22a1a31f85ad]: FINISHED"}}
[debug] [2023-10-06T05:01:25.061Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:01:26.062Z] Validating nodejs source
[debug] [2023-10-06T05:01:28.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:01:28.123Z] Building nodejs source
[debug] [2023-10-06T05:01:28.123Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:01:28.125Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:01:28.127Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8096

[debug] [2023-10-06T05:01:28.428Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:02:02.376Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:02:03.376Z] Validating nodejs source
[debug] [2023-10-06T05:02:04.226Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:02:04.227Z] Building nodejs source
[debug] [2023-10-06T05:02:04.227Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:02:04.228Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:02:04.236Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8616

[debug] [2023-10-06T05:02:04.537Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:02:22.978Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:02:23.979Z] Validating nodejs source
[debug] [2023-10-06T05:02:24.428Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:02:24.429Z] Building nodejs source
[debug] [2023-10-06T05:02:24.429Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:02:24.430Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:02:24.430Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8310

[debug] [2023-10-06T05:02:24.742Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:02:31.798Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:02:32.798Z] Validating nodejs source
[debug] [2023-10-06T05:02:33.267Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:02:33.267Z] Building nodejs source
[debug] [2023-10-06T05:02:33.267Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:02:33.268Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:02:33.269Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8522

[debug] [2023-10-06T05:02:33.567Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:02:39.732Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:02:40.733Z] Validating nodejs source
[debug] [2023-10-06T05:02:41.194Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:02:41.194Z] Building nodejs source
[debug] [2023-10-06T05:02:41.195Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:02:41.195Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:02:41.196Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8339

[debug] [2023-10-06T05:02:41.506Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:07:43.828Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:07:44.830Z] Validating nodejs source
[debug] [2023-10-06T05:07:45.702Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:07:45.702Z] Building nodejs source
[debug] [2023-10-06T05:07:45.702Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:07:45.703Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:07:45.704Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8237

[debug] [2023-10-06T05:07:46.023Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:09:47.996Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:09:48.997Z] Validating nodejs source
[debug] [2023-10-06T05:09:49.838Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:09:49.838Z] Building nodejs source
[debug] [2023-10-06T05:09:49.838Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:09:49.839Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:09:49.840Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8768

[debug] [2023-10-06T05:09:50.137Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:09:55.511Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:09:56.511Z] Validating nodejs source
[debug] [2023-10-06T05:09:56.974Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:09:56.975Z] Building nodejs source
[debug] [2023-10-06T05:09:56.975Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:09:56.976Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:09:56.976Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8464

[debug] [2023-10-06T05:09:57.291Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:10:32.760Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T05:10:33.761Z] Validating nodejs source
[debug] [2023-10-06T05:10:34.223Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:10:34.223Z] Building nodejs source
[debug] [2023-10-06T05:10:34.223Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:10:34.224Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:10:34.224Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8252

[debug] [2023-10-06T05:10:34.545Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:10:44.592Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T05:10:45.594Z] Validating nodejs source
[debug] [2023-10-06T05:10:46.199Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:10:46.199Z] Building nodejs source
[debug] [2023-10-06T05:10:46.199Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:10:46.200Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:10:46.201Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8940

[debug] [2023-10-06T05:10:46.530Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:10:53.796Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:10:53.796Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569053795","timestamp":"2023-10-06T05:10:53.795Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567648366","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:47:28.366Z","updated":"2023-10-06T04:47:28.366Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gueKUxOrrzf+RR7mPaL+7dOW7ao","metadata":{"firebaseStorageDownloadTokens":"a87ec38c-c682-47fb-a054-88bd5956a273"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:47:28.366Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media"}}
[debug] [2023-10-06T05:10:53.803Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:10:53.803Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:10:53.803Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:10:53.803Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"4d0658df-9c3d-402e-b3c2-970a878ebfb6","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T04:47:28.366Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696567648366","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T04:47:28.366Z","updated":"2023-10-06T04:47:28.366Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gueKUxOrrzf+RR7mPaL+7dOW7ao","metadata":{"firebaseStorageDownloadTokens":"a87ec38c-c682-47fb-a054-88bd5956a273"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T04:47:28.366Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696567648366","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696567648366&alt=media"}}
[debug] [2023-10-06T05:10:53.814Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:10:53.814Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:10:53.818Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:10:53.818Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569053817","timestamp":"2023-10-06T05:10:53.817Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569053813","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:10:53.813Z","updated":"2023-10-06T05:10:53.813Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"7DtwRoEuGBCkhess78xu/tbzQ2Y","metadata":{"firebaseStorageDownloadTokens":"a7765601-1cc0-4e7a-9750-1361aa346191"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:10:53.813Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media"}}
[debug] [2023-10-06T05:10:53.822Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:10:53.822Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:10:53.823Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:10:53.822Z"],"workRunningCount":1}
[debug] [2023-10-06T05:10:53.823Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:10:53.824Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:10:53.825Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:10:53.825Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:10:53.825Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"cb3bc735-4a27-4c3d-a24c-68a93f334fe4","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:10:53.813Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569053813","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:10:53.813Z","updated":"2023-10-06T05:10:53.813Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"7DtwRoEuGBCkhess78xu/tbzQ2Y","metadata":{"firebaseStorageDownloadTokens":"a7765601-1cc0-4e7a-9750-1361aa346191"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:10:53.813Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media"}}
[debug] [2023-10-06T05:10:53.827Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:10:53.827Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:10:53.827Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:10:53.827Z"],"workRunningCount":1}
[debug] [2023-10-06T05:10:53.827Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:10:53.828Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:10:53.828Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:10:53.828Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:10:53.839Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:10:53.839Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:10:53.843Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:10:53.843Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:10:54.618Z] [runtime-status] [9577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:10:54.620Z] [runtime-status] [9577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:10:54.620Z] [runtime-status] [9577] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:10:54.620Z] [runtime-status] [9577] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:10:54.622Z] [runtime-status] [9577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:10:54.739Z] [runtime-status] [9577] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:10:54.739Z] [runtime-status] [9577] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:10:54.741Z] [runtime-status] [9577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:10:54.742Z] [runtime-status] [9577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:10:54.744Z] [runtime-status] [9577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:10:54.744Z] [runtime-status] [9577] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:10:54.811Z] [runtime-status] [9577] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:10:54.811Z] [runtime-status] [9577] Listening to port: /tmp/fire_emu_968209a865091d6d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] Listening to port: /tmp/fire_emu_968209a865091d6d.sock"}}
[debug] [2023-10-06T05:10:54.851Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: IDLE"}}
[debug] [2023-10-06T05:10:54.852Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:10:54.852Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: BUSY"}}
[debug] [2023-10-06T05:10:54.861Z] [runtime-status] [9577] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569053813","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:10:53.813Z","updated":"2023-10-06T05:10:53.813Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"7DtwRoEuGBCkhess78xu/tbzQ2Y","metadata":{"firebaseStorageDownloadTokens":"a7765601-1cc0-4e7a-9750-1361aa346191"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:10:53.813Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media"},"context":{"eventId":"1696569053817","timestamp":"2023-10-06T05:10:53.817Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9577] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569053813\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:10:53.813Z\",\"updated\":\"2023-10-06T05:10:53.813Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"7DtwRoEuGBCkhess78xu/tbzQ2Y\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"a7765601-1cc0-4e7a-9750-1361aa346191\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:10:53.813Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media\"},\"context\":{\"eventId\":\"1696569053817\",\"timestamp\":\"2023-10-06T05:10:53.817Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569053813', {"user":"  generation: '1696569053813',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569053813',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:10:53.813Z', {"user":"  timeCreated: '2023-10-06T05:10:53.813Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:10:53.813Z',"}}
[info] >    updated: '2023-10-06T05:10:53.813Z', {"user":"  updated: '2023-10-06T05:10:53.813Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:10:53.813Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: '7DtwRoEuGBCkhess78xu/tbzQ2Y', {"user":"  etag: '7DtwRoEuGBCkhess78xu/tbzQ2Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: '7DtwRoEuGBCkhess78xu/tbzQ2Y',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'a7765601-1cc0-4e7a-9750-1361aa346191' {"user":"    firebaseStorageDownloadTokens: 'a7765601-1cc0-4e7a-9750-1361aa346191'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'a7765601-1cc0-4e7a-9750-1361aa346191'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:10:53.813Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:10:53.813Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:10:53.813Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ReferenceError: app is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:36)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"} {"user":{"severity":"ERROR","message":"ReferenceError: app is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:36)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: app is not defined\\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:36)\\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)\"}"}}
[debug] [2023-10-06T05:10:54.873Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 20.9859ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 20.9859ms"}}
[debug] [2023-10-06T05:10:54.873Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: IDLE"}}
[debug] [2023-10-06T05:10:54.873Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:10:54.873Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:10:54.874Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:11:33.181Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:11:34.182Z] Validating nodejs source
[debug] [2023-10-06T05:11:34.673Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:11:34.674Z] Building nodejs source
[debug] [2023-10-06T05:11:34.674Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:11:34.674Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:11:34.675Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8141

[debug] [2023-10-06T05:11:34.990Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:11:35.003Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:11:35.003Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: FINISHING"}}
[debug] [2023-10-06T05:11:35.008Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: exited"}}
[debug] [2023-10-06T05:11:35.008Z] [worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-d852c60d-a8f1-455f-896e-56009f817543]: FINISHED"}}
[debug] [2023-10-06T05:11:47.452Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T05:11:48.454Z] Validating nodejs source
[debug] [2023-10-06T05:11:49.048Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:11:49.049Z] Building nodejs source
[debug] [2023-10-06T05:11:49.049Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:11:49.050Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:11:49.050Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8881

[debug] [2023-10-06T05:11:49.375Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:11:57.483Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:11:57.483Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569117483","timestamp":"2023-10-06T05:11:57.483Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569053813","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:10:53.813Z","updated":"2023-10-06T05:10:53.813Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"7DtwRoEuGBCkhess78xu/tbzQ2Y","metadata":{"firebaseStorageDownloadTokens":"a7765601-1cc0-4e7a-9750-1361aa346191"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:10:53.813Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media"}}
[debug] [2023-10-06T05:11:57.490Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:11:57.491Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:11:57.491Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:11:57.491Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"9904c3d9-c61a-416b-bfeb-6c24962cb24e","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:10:53.813Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569053813","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:10:53.813Z","updated":"2023-10-06T05:10:53.813Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"7DtwRoEuGBCkhess78xu/tbzQ2Y","metadata":{"firebaseStorageDownloadTokens":"a7765601-1cc0-4e7a-9750-1361aa346191"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:10:53.813Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569053813","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569053813&alt=media"}}
[debug] [2023-10-06T05:11:57.500Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:11:57.500Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:11:57.504Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:11:57.504Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569117504","timestamp":"2023-10-06T05:11:57.504Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569117498","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:11:57.499Z","updated":"2023-10-06T05:11:57.499Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"oyybN7HsSs0ueM91EMs0z0Zrqic","metadata":{"firebaseStorageDownloadTokens":"70c7dce2-ad72-4e75-9e04-373cea99fba4"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:11:57.499Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media"}}
[debug] [2023-10-06T05:11:57.507Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:11:57.507Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:11:57.508Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:11:57.507Z"],"workRunningCount":1}
[debug] [2023-10-06T05:11:57.509Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:11:57.510Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:11:57.510Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:11:57.511Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:11:57.511Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"cafd8096-06b4-48d6-8149-e7d23f1b225d","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:11:57.499Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569117498","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:11:57.499Z","updated":"2023-10-06T05:11:57.499Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"oyybN7HsSs0ueM91EMs0z0Zrqic","metadata":{"firebaseStorageDownloadTokens":"70c7dce2-ad72-4e75-9e04-373cea99fba4"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:11:57.499Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media"}}
[debug] [2023-10-06T05:11:57.513Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:11:57.513Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:11:57.513Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:11:57.513Z"],"workRunningCount":1}
[debug] [2023-10-06T05:11:57.513Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:11:57.514Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:11:57.514Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:11:57.514Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:11:57.524Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:11:57.526Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:11:57.531Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:11:57.532Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:11:58.438Z] [runtime-status] [9990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:11:58.439Z] [runtime-status] [9990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:11:58.439Z] [runtime-status] [9990] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:11:58.440Z] [runtime-status] [9990] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:11:58.441Z] [runtime-status] [9990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:11:58.599Z] [runtime-status] [9990] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:11:58.599Z] [runtime-status] [9990] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:11:58.602Z] [runtime-status] [9990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:11:58.602Z] [runtime-status] [9990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:11:58.604Z] [runtime-status] [9990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:11:58.604Z] [runtime-status] [9990] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:11:58.686Z] [runtime-status] [9990] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:11:58.686Z] [runtime-status] [9990] Listening to port: /tmp/fire_emu_3f743ab5af798bf0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] Listening to port: /tmp/fire_emu_3f743ab5af798bf0.sock"}}
[debug] [2023-10-06T05:11:58.744Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: IDLE"}}
[debug] [2023-10-06T05:11:58.744Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:11:58.745Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: BUSY"}}
[debug] [2023-10-06T05:11:58.756Z] [runtime-status] [9990] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569117498","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:11:57.499Z","updated":"2023-10-06T05:11:57.499Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"oyybN7HsSs0ueM91EMs0z0Zrqic","metadata":{"firebaseStorageDownloadTokens":"70c7dce2-ad72-4e75-9e04-373cea99fba4"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:11:57.499Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media"},"context":{"eventId":"1696569117504","timestamp":"2023-10-06T05:11:57.504Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [9990] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569117498\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:11:57.499Z\",\"updated\":\"2023-10-06T05:11:57.499Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"oyybN7HsSs0ueM91EMs0z0Zrqic\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"70c7dce2-ad72-4e75-9e04-373cea99fba4\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:11:57.499Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media\"},\"context\":{\"eventId\":\"1696569117504\",\"timestamp\":\"2023-10-06T05:11:57.504Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569117498', {"user":"  generation: '1696569117498',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569117498',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:11:57.499Z', {"user":"  timeCreated: '2023-10-06T05:11:57.499Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:11:57.499Z',"}}
[info] >    updated: '2023-10-06T05:11:57.499Z', {"user":"  updated: '2023-10-06T05:11:57.499Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:11:57.499Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'oyybN7HsSs0ueM91EMs0z0Zrqic', {"user":"  etag: 'oyybN7HsSs0ueM91EMs0z0Zrqic',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'oyybN7HsSs0ueM91EMs0z0Zrqic',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '70c7dce2-ad72-4e75-9e04-373cea99fba4' {"user":"    firebaseStorageDownloadTokens: '70c7dce2-ad72-4e75-9e04-373cea99fba4'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '70c7dce2-ad72-4e75-9e04-373cea99fba4'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:11:57.499Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:11:57.499Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:11:57.499Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ReferenceError: object is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:48)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"} {"user":{"severity":"ERROR","message":"ReferenceError: object is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:48)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: object is not defined\\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:9:48)\\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)\"}"}}
[debug] [2023-10-06T05:11:58.895Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 150.958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 150.958ms"}}
[debug] [2023-10-06T05:11:58.897Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: IDLE"}}
[debug] [2023-10-06T05:11:58.897Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:11:58.897Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:11:58.897Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:12.927Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:12:13.928Z] Validating nodejs source
[debug] [2023-10-06T05:12:14.473Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:12:14.473Z] Building nodejs source
[debug] [2023-10-06T05:12:14.473Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:12:14.474Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:12:14.476Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8148

[debug] [2023-10-06T05:12:14.866Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:12:14.880Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:12:14.880Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: FINISHING"}}
[debug] [2023-10-06T05:12:14.887Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: exited"}}
[debug] [2023-10-06T05:12:14.888Z] [worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0620e70d-e0b4-4e8c-a517-d8dd67a46d38]: FINISHED"}}
[debug] [2023-10-06T05:12:23.336Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:23.336Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569143336","timestamp":"2023-10-06T05:12:23.336Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569117498","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:11:57.499Z","updated":"2023-10-06T05:11:57.499Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"oyybN7HsSs0ueM91EMs0z0Zrqic","metadata":{"firebaseStorageDownloadTokens":"70c7dce2-ad72-4e75-9e04-373cea99fba4"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:11:57.499Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media"}}
[debug] [2023-10-06T05:12:23.339Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:23.340Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:23.340Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:23.340Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"eebce607-7b29-4b24-af55-72c89c93f259","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:11:57.499Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569117498","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:11:57.499Z","updated":"2023-10-06T05:11:57.499Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"oyybN7HsSs0ueM91EMs0z0Zrqic","metadata":{"firebaseStorageDownloadTokens":"70c7dce2-ad72-4e75-9e04-373cea99fba4"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:11:57.499Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569117498","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569117498&alt=media"}}
[debug] [2023-10-06T05:12:23.344Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:23.344Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:23.350Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:23.350Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569143350","timestamp":"2023-10-06T05:12:23.350Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569143346","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:23.346Z","updated":"2023-10-06T05:12:23.346Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VFJ1nMs0rIh4wTrsRogU+QnpaC0","metadata":{"firebaseStorageDownloadTokens":"44080b26-c5dd-4867-859d-4161eac7d8c6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:23.346Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media"}}
[debug] [2023-10-06T05:12:23.352Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:23.352Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:23.353Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:23.352Z"],"workRunningCount":1}
[debug] [2023-10-06T05:12:23.353Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:23.354Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:23.354Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:23.355Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:23.355Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"1b85eb39-2a76-4dcb-aecc-ade9aff9ab41","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:12:23.346Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569143346","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:23.346Z","updated":"2023-10-06T05:12:23.346Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VFJ1nMs0rIh4wTrsRogU+QnpaC0","metadata":{"firebaseStorageDownloadTokens":"44080b26-c5dd-4867-859d-4161eac7d8c6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:23.346Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media"}}
[debug] [2023-10-06T05:12:23.356Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:23.356Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:23.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:23.356Z"],"workRunningCount":1}
[debug] [2023-10-06T05:12:23.356Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:12:23.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:12:23.357Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:12:23.357Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:12:23.364Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:12:23.364Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:12:23.368Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:23.368Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:23.952Z] [runtime-status] [10186] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:12:23.953Z] [runtime-status] [10186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:23.953Z] [runtime-status] [10186] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:12:23.953Z] [runtime-status] [10186] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:12:23.954Z] [runtime-status] [10186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:24.072Z] [runtime-status] [10186] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:12:24.072Z] [runtime-status] [10186] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:12:24.074Z] [runtime-status] [10186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:24.074Z] [runtime-status] [10186] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:12:24.075Z] [runtime-status] [10186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:24.076Z] [runtime-status] [10186] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:12:24.143Z] [runtime-status] [10186] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:12:24.143Z] [runtime-status] [10186] Listening to port: /tmp/fire_emu_cf811e820e639970.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] Listening to port: /tmp/fire_emu_cf811e820e639970.sock"}}
[debug] [2023-10-06T05:12:24.175Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: IDLE"}}
[debug] [2023-10-06T05:12:24.175Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:12:24.175Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: BUSY"}}
[debug] [2023-10-06T05:12:24.184Z] [runtime-status] [10186] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569143346","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:23.346Z","updated":"2023-10-06T05:12:23.346Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VFJ1nMs0rIh4wTrsRogU+QnpaC0","metadata":{"firebaseStorageDownloadTokens":"44080b26-c5dd-4867-859d-4161eac7d8c6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:23.346Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media"},"context":{"eventId":"1696569143350","timestamp":"2023-10-06T05:12:23.350Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10186] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569143346\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:12:23.346Z\",\"updated\":\"2023-10-06T05:12:23.346Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"VFJ1nMs0rIh4wTrsRogU+QnpaC0\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"44080b26-c5dd-4867-859d-4161eac7d8c6\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:12:23.346Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media\"},\"context\":{\"eventId\":\"1696569143350\",\"timestamp\":\"2023-10-06T05:12:23.350Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569143346', {"user":"  generation: '1696569143346',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569143346',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:12:23.346Z', {"user":"  timeCreated: '2023-10-06T05:12:23.346Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:12:23.346Z',"}}
[info] >    updated: '2023-10-06T05:12:23.346Z', {"user":"  updated: '2023-10-06T05:12:23.346Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:12:23.346Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'VFJ1nMs0rIh4wTrsRogU+QnpaC0', {"user":"  etag: 'VFJ1nMs0rIh4wTrsRogU+QnpaC0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'VFJ1nMs0rIh4wTrsRogU+QnpaC0',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '44080b26-c5dd-4867-859d-4161eac7d8c6' {"user":"    firebaseStorageDownloadTokens: '44080b26-c5dd-4867-859d-4161eac7d8c6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '44080b26-c5dd-4867-859d-4161eac7d8c6'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:12:23.346Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:12:23.346Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:12:23.346Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ReferenceError: object is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:11:11)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"} {"user":{"severity":"ERROR","message":"ReferenceError: object is not defined\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:11:11)\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: object is not defined\\n    at internals.parsedFileText (/home/elvis/cover-letter-generator/functions/utils.js:11:11)\\n    at /home/elvis/cover-letter-generator/functions/index.js:97:34\\n    at cloudFunction (/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/cloud-functions.js:79:23)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:518:16\\n    at runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\\n    at runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:11)\\n    at processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:11)\\n    at /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\\n    at Layer.handle [as handle_request] (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\\n    at next (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)\"}"}}
[debug] [2023-10-06T05:12:24.265Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 89.6918ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 89.6918ms"}}
[debug] [2023-10-06T05:12:24.265Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: IDLE"}}
[debug] [2023-10-06T05:12:24.265Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:12:24.266Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:12:24.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:37.609Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:12:38.610Z] Validating nodejs source
[debug] [2023-10-06T05:12:39.127Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:12:39.127Z] Building nodejs source
[debug] [2023-10-06T05:12:39.127Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:12:39.129Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:12:39.130Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8740

[debug] [2023-10-06T05:12:39.459Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:12:39.469Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:12:39.469Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: FINISHING"}}
[debug] [2023-10-06T05:12:39.474Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: exited"}}
[debug] [2023-10-06T05:12:39.474Z] [worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-0a94c0ef-5a33-4a85-931d-48ac833137da]: FINISHED"}}
[debug] [2023-10-06T05:12:43.896Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:12:44.896Z] Validating nodejs source
[debug] [2023-10-06T05:12:45.359Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:12:45.359Z] Building nodejs source
[debug] [2023-10-06T05:12:45.359Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:12:45.360Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:12:45.361Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8421

[debug] [2023-10-06T05:12:45.692Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:12:53.530Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:53.530Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569173529","timestamp":"2023-10-06T05:12:53.529Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569143346","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:12:23.346Z","updated":"2023-10-06T05:12:23.346Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VFJ1nMs0rIh4wTrsRogU+QnpaC0","metadata":{"firebaseStorageDownloadTokens":"44080b26-c5dd-4867-859d-4161eac7d8c6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:23.346Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media"}}
[debug] [2023-10-06T05:12:53.533Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:53.534Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:53.534Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:53.534Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"e944a6d9-ad6f-423b-a605-364f686c0fab","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:12:23.346Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569143346","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:12:23.346Z","updated":"2023-10-06T05:12:23.346Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VFJ1nMs0rIh4wTrsRogU+QnpaC0","metadata":{"firebaseStorageDownloadTokens":"44080b26-c5dd-4867-859d-4161eac7d8c6"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:23.346Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569143346","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569143346&alt=media"}}
[debug] [2023-10-06T05:12:53.537Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:53.537Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:53.545Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:53.545Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569173545","timestamp":"2023-10-06T05:12:53.545Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569173539","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:53.539Z","updated":"2023-10-06T05:12:53.539Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"EAHR0WALwl2NmGHIYD1WUuQo1UI","metadata":{"firebaseStorageDownloadTokens":"052c2ca4-e90b-4d31-af76-452f6bf9aa3c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:53.539Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media"}}
[debug] [2023-10-06T05:12:53.547Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:53.547Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:53.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:53.547Z"],"workRunningCount":1}
[debug] [2023-10-06T05:12:53.548Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:53.549Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:53.549Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:53.549Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:12:53.549Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"34ad0c65-1ac3-4352-8796-a0ba59ba7ee5","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:12:53.539Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569173539","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:53.539Z","updated":"2023-10-06T05:12:53.539Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"EAHR0WALwl2NmGHIYD1WUuQo1UI","metadata":{"firebaseStorageDownloadTokens":"052c2ca4-e90b-4d31-af76-452f6bf9aa3c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:53.539Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media"}}
[debug] [2023-10-06T05:12:53.551Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:53.551Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:12:53.551Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:12:53.551Z"],"workRunningCount":1}
[debug] [2023-10-06T05:12:53.551Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:12:53.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:12:53.551Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:12:53.552Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:12:53.559Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:12:53.560Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:12:53.563Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:12:53.563Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:12:54.194Z] [runtime-status] [10448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:12:54.195Z] [runtime-status] [10448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:54.195Z] [runtime-status] [10448] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:12:54.196Z] [runtime-status] [10448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:12:54.197Z] [runtime-status] [10448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:54.343Z] [runtime-status] [10448] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:12:54.343Z] [runtime-status] [10448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:12:54.345Z] [runtime-status] [10448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:54.347Z] [runtime-status] [10448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:12:54.348Z] [runtime-status] [10448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:12:54.349Z] [runtime-status] [10448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:12:54.428Z] [runtime-status] [10448] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:12:54.428Z] [runtime-status] [10448] Listening to port: /tmp/fire_emu_9b924bf9d2ceeb8f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] Listening to port: /tmp/fire_emu_9b924bf9d2ceeb8f.sock"}}
[debug] [2023-10-06T05:12:54.473Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: IDLE"}}
[debug] [2023-10-06T05:12:54.473Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:12:54.473Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: BUSY"}}
[debug] [2023-10-06T05:12:54.484Z] [runtime-status] [10448] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569173539","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:12:53.539Z","updated":"2023-10-06T05:12:53.539Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"EAHR0WALwl2NmGHIYD1WUuQo1UI","metadata":{"firebaseStorageDownloadTokens":"052c2ca4-e90b-4d31-af76-452f6bf9aa3c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:53.539Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media"},"context":{"eventId":"1696569173545","timestamp":"2023-10-06T05:12:53.545Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10448] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569173539\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:12:53.539Z\",\"updated\":\"2023-10-06T05:12:53.539Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"EAHR0WALwl2NmGHIYD1WUuQo1UI\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"052c2ca4-e90b-4d31-af76-452f6bf9aa3c\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:12:53.539Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media\"},\"context\":{\"eventId\":\"1696569173545\",\"timestamp\":\"2023-10-06T05:12:53.545Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569173539', {"user":"  generation: '1696569173539',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569173539',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:12:53.539Z', {"user":"  timeCreated: '2023-10-06T05:12:53.539Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:12:53.539Z',"}}
[info] >    updated: '2023-10-06T05:12:53.539Z', {"user":"  updated: '2023-10-06T05:12:53.539Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:12:53.539Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'EAHR0WALwl2NmGHIYD1WUuQo1UI', {"user":"  etag: 'EAHR0WALwl2NmGHIYD1WUuQo1UI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'EAHR0WALwl2NmGHIYD1WUuQo1UI',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '052c2ca4-e90b-4d31-af76-452f6bf9aa3c' {"user":"    firebaseStorageDownloadTokens: '052c2ca4-e90b-4d31-af76-452f6bf9aa3c'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '052c2ca4-e90b-4d31-af76-452f6bf9aa3c'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:12:53.539Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:12:53.539Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:12:53.539Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  {"severity":"ERROR","message":"ReferenceError: fileBuffer is not defined\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"} {"user":{"severity":"ERROR","message":"ReferenceError: fileBuffer is not defined\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: fileBuffer is not defined\\n    at /home/elvis/cover-letter-generator/functions/index.js:100:39\\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21\"}"}}
[debug] [2023-10-06T05:12:54.751Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 278.5756ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 278.5756ms"}}
[debug] [2023-10-06T05:12:54.752Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: IDLE"}}
[debug] [2023-10-06T05:12:54.752Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:12:54.752Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:12:54.752Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:13:24.484Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T05:13:25.484Z] Validating nodejs source
[debug] [2023-10-06T05:13:26.017Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:13:26.017Z] Building nodejs source
[debug] [2023-10-06T05:13:26.017Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:13:26.019Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:13:26.021Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8714

[debug] [2023-10-06T05:13:26.428Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:13:26.440Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:13:26.441Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: FINISHING"}}
[debug] [2023-10-06T05:13:26.450Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: exited"}}
[debug] [2023-10-06T05:13:26.450Z] [worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6b424fcc-b368-43ed-87b1-58b297a35338]: FINISHED"}}
[debug] [2023-10-06T05:13:34.440Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:13:34.440Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569214440","timestamp":"2023-10-06T05:13:34.440Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569173539","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:12:53.539Z","updated":"2023-10-06T05:12:53.539Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"EAHR0WALwl2NmGHIYD1WUuQo1UI","metadata":{"firebaseStorageDownloadTokens":"052c2ca4-e90b-4d31-af76-452f6bf9aa3c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:53.539Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media"}}
[debug] [2023-10-06T05:13:34.444Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:13:34.444Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:13:34.444Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:13:34.444Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"2e5b6c47-6683-4523-9c5d-2408cd276cfa","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:12:53.539Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569173539","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:12:53.539Z","updated":"2023-10-06T05:12:53.539Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"EAHR0WALwl2NmGHIYD1WUuQo1UI","metadata":{"firebaseStorageDownloadTokens":"052c2ca4-e90b-4d31-af76-452f6bf9aa3c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:12:53.539Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569173539","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569173539&alt=media"}}
[debug] [2023-10-06T05:13:34.448Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:13:34.448Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:13:34.455Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:13:34.455Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569214454","timestamp":"2023-10-06T05:13:34.454Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569214450","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:13:34.450Z","updated":"2023-10-06T05:13:34.450Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"AbEd3NzNi4EUU3E8hhQ56AErO6c","metadata":{"firebaseStorageDownloadTokens":"70d880d4-e4d9-435e-8128-2ea417ff3531"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:13:34.450Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media"}}
[debug] [2023-10-06T05:13:34.457Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:13:34.457Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:13:34.457Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:13:34.457Z"],"workRunningCount":1}
[debug] [2023-10-06T05:13:34.457Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:13:34.459Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:13:34.460Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:13:34.460Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:13:34.460Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"319cd966-a668-431d-a3af-1d0feb7e1bd4","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:13:34.450Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569214450","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:13:34.450Z","updated":"2023-10-06T05:13:34.450Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"AbEd3NzNi4EUU3E8hhQ56AErO6c","metadata":{"firebaseStorageDownloadTokens":"70d880d4-e4d9-435e-8128-2ea417ff3531"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:13:34.450Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media"}}
[debug] [2023-10-06T05:13:34.461Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:13:34.461Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:13:34.461Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:13:34.461Z"],"workRunningCount":1}
[debug] [2023-10-06T05:13:34.461Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:13:34.462Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:13:34.462Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:13:34.462Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:13:34.469Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:13:34.469Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:13:34.472Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:13:34.473Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:13:35.171Z] [runtime-status] [10713] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:13:35.173Z] [runtime-status] [10713] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:13:35.173Z] [runtime-status] [10713] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:13:35.173Z] [runtime-status] [10713] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:13:35.174Z] [runtime-status] [10713] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:13:35.300Z] [runtime-status] [10713] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:13:35.301Z] [runtime-status] [10713] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:13:35.302Z] [runtime-status] [10713] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:13:35.302Z] [runtime-status] [10713] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:13:35.308Z] [runtime-status] [10713] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:13:35.308Z] [runtime-status] [10713] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:13:35.386Z] [runtime-status] [10713] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:13:35.386Z] [runtime-status] [10713] Listening to port: /tmp/fire_emu_0b68c2b5a00e5369.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] Listening to port: /tmp/fire_emu_0b68c2b5a00e5369.sock"}}
[debug] [2023-10-06T05:13:35.481Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: IDLE"}}
[debug] [2023-10-06T05:13:35.481Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:13:35.482Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: BUSY"}}
[debug] [2023-10-06T05:13:35.490Z] [runtime-status] [10713] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569214450","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:13:34.450Z","updated":"2023-10-06T05:13:34.450Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"AbEd3NzNi4EUU3E8hhQ56AErO6c","metadata":{"firebaseStorageDownloadTokens":"70d880d4-e4d9-435e-8128-2ea417ff3531"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:13:34.450Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media"},"context":{"eventId":"1696569214454","timestamp":"2023-10-06T05:13:34.454Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [10713] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569214450\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:13:34.450Z\",\"updated\":\"2023-10-06T05:13:34.450Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"AbEd3NzNi4EUU3E8hhQ56AErO6c\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"70d880d4-e4d9-435e-8128-2ea417ff3531\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:13:34.450Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media\"},\"context\":{\"eventId\":\"1696569214454\",\"timestamp\":\"2023-10-06T05:13:34.454Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569214450', {"user":"  generation: '1696569214450',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569214450',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:13:34.450Z', {"user":"  timeCreated: '2023-10-06T05:13:34.450Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:13:34.450Z',"}}
[info] >    updated: '2023-10-06T05:13:34.450Z', {"user":"  updated: '2023-10-06T05:13:34.450Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:13:34.450Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'AbEd3NzNi4EUU3E8hhQ56AErO6c', {"user":"  etag: 'AbEd3NzNi4EUU3E8hhQ56AErO6c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'AbEd3NzNi4EUU3E8hhQ56AErO6c',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '70d880d4-e4d9-435e-8128-2ea417ff3531' {"user":"    firebaseStorageDownloadTokens: '70d880d4-e4d9-435e-8128-2ea417ff3531'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '70d880d4-e4d9-435e-8128-2ea417ff3531'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:13:34.450Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:13:34.450Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:13:34.450Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  {"severity":"ERROR","message":"ReferenceError: content is not defined\n    at internals.parseResumeAnalysis (/home/elvis/cover-letter-generator/functions/utils.js:47:32)\n    at /home/elvis/cover-letter-generator/functions/index.js:110:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"} {"user":{"severity":"ERROR","message":"ReferenceError: content is not defined\n    at internals.parseResumeAnalysis (/home/elvis/cover-letter-generator/functions/utils.js:47:32)\n    at /home/elvis/cover-letter-generator/functions/index.js:110:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"ReferenceError: content is not defined\\n    at internals.parseResumeAnalysis (/home/elvis/cover-letter-generator/functions/utils.js:47:32)\\n    at /home/elvis/cover-letter-generator/functions/index.js:110:34\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\\n    at async runFunction (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:517:5)\\n    at async processBackground (/home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:501:5)\\n    at async /home/elvis/.nvm/versions/node/v18.18.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:21\"}"}}
[debug] [2023-10-06T05:14:03.427Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 27945.9102ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 27945.9102ms"}}
[debug] [2023-10-06T05:14:03.428Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: IDLE"}}
[debug] [2023-10-06T05:14:03.428Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:14:03.428Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:14:03.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:14:32.006Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:14:33.006Z] Validating nodejs source
[debug] [2023-10-06T05:14:33.986Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:14:33.986Z] Building nodejs source
[debug] [2023-10-06T05:14:33.986Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:14:33.987Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:14:33.989Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8849

[debug] [2023-10-06T05:14:34.354Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:14:34.364Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:14:34.364Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: FINISHING"}}
[debug] [2023-10-06T05:14:34.370Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: exited"}}
[debug] [2023-10-06T05:14:34.371Z] [worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-68df160e-d27f-403c-8e43-b2436a460fbb]: FINISHED"}}
[debug] [2023-10-06T05:14:42.412Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:14:42.412Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569282412","timestamp":"2023-10-06T05:14:42.412Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569214450","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:13:34.450Z","updated":"2023-10-06T05:13:34.450Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"AbEd3NzNi4EUU3E8hhQ56AErO6c","metadata":{"firebaseStorageDownloadTokens":"70d880d4-e4d9-435e-8128-2ea417ff3531"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:13:34.450Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media"}}
[debug] [2023-10-06T05:14:42.416Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:14:42.416Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:14:42.417Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:14:42.417Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"1fb38748-a335-491d-a4e2-55cac687f8f0","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:13:34.450Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569214450","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:13:34.450Z","updated":"2023-10-06T05:13:34.450Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"AbEd3NzNi4EUU3E8hhQ56AErO6c","metadata":{"firebaseStorageDownloadTokens":"70d880d4-e4d9-435e-8128-2ea417ff3531"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:13:34.450Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569214450","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569214450&alt=media"}}
[debug] [2023-10-06T05:14:42.421Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:14:42.421Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:14:42.426Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:14:42.426Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569282426","timestamp":"2023-10-06T05:14:42.426Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569282423","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:14:42.423Z","updated":"2023-10-06T05:14:42.423Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gFkIu/VRRak08aV0zKeZJOrIZAg","metadata":{"firebaseStorageDownloadTokens":"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:14:42.423Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media"}}
[debug] [2023-10-06T05:14:42.430Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:14:42.430Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:14:42.430Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:14:42.430Z"],"workRunningCount":1}
[debug] [2023-10-06T05:14:42.430Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:14:42.431Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:14:42.431Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:14:42.431Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:14:42.431Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"51b1b1b3-8ca5-4256-bde3-5d2395b3c11e","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:14:42.423Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569282423","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:14:42.423Z","updated":"2023-10-06T05:14:42.423Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gFkIu/VRRak08aV0zKeZJOrIZAg","metadata":{"firebaseStorageDownloadTokens":"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:14:42.423Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media"}}
[debug] [2023-10-06T05:14:42.433Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:14:42.433Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:14:42.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:14:42.433Z"],"workRunningCount":1}
[debug] [2023-10-06T05:14:42.433Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:14:42.433Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:14:42.433Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:14:42.433Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:14:42.440Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:14:42.441Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:14:42.444Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:14:42.444Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:14:43.160Z] [runtime-status] [11099] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:14:43.161Z] [runtime-status] [11099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:14:43.162Z] [runtime-status] [11099] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:14:43.162Z] [runtime-status] [11099] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:14:43.163Z] [runtime-status] [11099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:14:43.279Z] [runtime-status] [11099] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:14:43.279Z] [runtime-status] [11099] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:14:43.281Z] [runtime-status] [11099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:14:43.281Z] [runtime-status] [11099] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:14:43.282Z] [runtime-status] [11099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:14:43.282Z] [runtime-status] [11099] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:14:43.343Z] [runtime-status] [11099] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:14:43.343Z] [runtime-status] [11099] Listening to port: /tmp/fire_emu_9f9936be91e04968.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] Listening to port: /tmp/fire_emu_9f9936be91e04968.sock"}}
[debug] [2023-10-06T05:14:43.350Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: IDLE"}}
[debug] [2023-10-06T05:14:43.350Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:14:43.350Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: BUSY"}}
[debug] [2023-10-06T05:14:43.358Z] [runtime-status] [11099] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569282423","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:14:42.423Z","updated":"2023-10-06T05:14:42.423Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gFkIu/VRRak08aV0zKeZJOrIZAg","metadata":{"firebaseStorageDownloadTokens":"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:14:42.423Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media"},"context":{"eventId":"1696569282426","timestamp":"2023-10-06T05:14:42.426Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11099] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569282423\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:14:42.423Z\",\"updated\":\"2023-10-06T05:14:42.423Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"gFkIu/VRRak08aV0zKeZJOrIZAg\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:14:42.423Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media\"},\"context\":{\"eventId\":\"1696569282426\",\"timestamp\":\"2023-10-06T05:14:42.426Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569282423', {"user":"  generation: '1696569282423',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569282423',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:14:42.423Z', {"user":"  timeCreated: '2023-10-06T05:14:42.423Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:14:42.423Z',"}}
[info] >    updated: '2023-10-06T05:14:42.423Z', {"user":"  updated: '2023-10-06T05:14:42.423Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:14:42.423Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'gFkIu/VRRak08aV0zKeZJOrIZAg', {"user":"  etag: 'gFkIu/VRRak08aV0zKeZJOrIZAg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'gFkIu/VRRak08aV0zKeZJOrIZAg',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d' {"user":"    firebaseStorageDownloadTokens: 'afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:14:42.423Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:14:42.423Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:14:42.423Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    background: 'With a degree in Physics and a strong background in software engineering, including experience with TypeScript, JavaScript, Python, Ruby, SQL, and various cloud platforms, I have a solid foundation in both technical and analytical skills. My work experiences include contributing to the optimization of a Large Language Model (LLM) at Kraftful and playing a pivotal role in scaling a SaaS company at Onward Delivery.\n' + {"user":"  background: 'With a degree in Physics and a strong background in software engineering, including experience with TypeScript, JavaScript, Python, Ruby, SQL, and various cloud platforms, I have a solid foundation in both technical and analytical skills. My work experiences include contributing to the optimization of a Large Language Model (LLM) at Kraftful and playing a pivotal role in scaling a SaaS company at Onward Delivery.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   background: 'With a degree in Physics and a strong background in software engineering, including experience with TypeScript, JavaScript, Python, Ruby, SQL, and various cloud platforms, I have a solid foundation in both technical and analytical skills. My work experiences include contributing to the optimization of a Large Language Model (LLM) at Kraftful and playing a pivotal role in scaling a SaaS company at Onward Delivery.\\n' +"}}
[info] >      '\n', {"user":"    '\\n',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n',"}}
[info] >    skills: 'Key skills: Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), BullMQ.\n' + {"user":"  skills: 'Key skills: Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), BullMQ.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   skills: 'Key skills: Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), BullMQ.\\n' +"}}
[info] >      '\n', {"user":"    '\\n',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n',"}}
[info] >    experience: 'In my most relevant work experiences, I have contributed to the successful launch of a product at Kraftful by optimizing the core functionality of a Large Language Model (LLM) and achieved a significant increase in data ingestion rates for CSV data sources using distributed recursive algorithms. I have also played a pivotal role in scaling a SaaS company at Onward Delivery, developing key features such as a REST API for order management and an ETL pipeline for data analytics. Additionally, I have contributed to the maintenance and enhancement of a Python-Flask web application and implemented automated testing and deployment pipelines for improved code quality and deployment speed.' {"user":"  experience: 'In my most relevant work experiences, I have contributed to the successful launch of a product at Kraftful by optimizing the core functionality of a Large Language Model (LLM) and achieved a significant increase in data ingestion rates for CSV data sources using distributed recursive algorithms. I have also played a pivotal role in scaling a SaaS company at Onward Delivery, developing key features such as a REST API for order management and an ETL pipeline for data analytics. Additionally, I have contributed to the maintenance and enhancement of a Python-Flask web application and implemented automated testing and deployment pipelines for improved code quality and deployment speed.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   experience: 'In my most relevant work experiences, I have contributed to the successful launch of a product at Kraftful by optimizing the core functionality of a Large Language Model (LLM) and achieved a significant increase in data ingestion rates for CSV data sources using distributed recursive algorithms. I have also played a pivotal role in scaling a SaaS company at Onward Delivery, developing key features such as a REST API for order management and an ETL pipeline for data analytics. Additionally, I have contributed to the maintenance and enhancement of a Python-Flask web application and implemented automated testing and deployment pipelines for improved code quality and deployment speed.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T05:15:02.130Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 18780.0171ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 18780.0171ms"}}
[debug] [2023-10-06T05:15:02.131Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: IDLE"}}
[debug] [2023-10-06T05:15:02.131Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:15:02.131Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:15:02.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:16:02.749Z] File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/utils.js changed, reloading triggers"}}
[debug] [2023-10-06T05:16:03.750Z] Validating nodejs source
[debug] [2023-10-06T05:16:04.771Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:16:04.771Z] Building nodejs source
[debug] [2023-10-06T05:16:04.771Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:16:04.772Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:16:04.772Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8659

[debug] [2023-10-06T05:16:05.074Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:16:05.091Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:16:05.091Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: FINISHING"}}
[debug] [2023-10-06T05:16:05.099Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: exited"}}
[debug] [2023-10-06T05:16:05.099Z] [worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-990d1d85-d3b2-46e0-a244-d84b3059ff9a]: FINISHED"}}
[debug] [2023-10-06T05:17:01.285Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:17:01.286Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569421285","timestamp":"2023-10-06T05:17:01.285Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569282423","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:14:42.423Z","updated":"2023-10-06T05:14:42.423Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gFkIu/VRRak08aV0zKeZJOrIZAg","metadata":{"firebaseStorageDownloadTokens":"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:14:42.423Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media"}}
[debug] [2023-10-06T05:17:01.289Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:17:01.289Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:17:01.289Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:17:01.289Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"351fe85e-7e43-47a7-9733-c96f7d12f739","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:14:42.423Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569282423","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:14:42.423Z","updated":"2023-10-06T05:14:42.423Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"gFkIu/VRRak08aV0zKeZJOrIZAg","metadata":{"firebaseStorageDownloadTokens":"afbb9f52-f61b-49d1-9fa7-6e5d3b600d4d"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:14:42.423Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569282423","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569282423&alt=media"}}
[debug] [2023-10-06T05:17:01.293Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:17:01.294Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:17:01.301Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:17:01.301Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569421301","timestamp":"2023-10-06T05:17:01.301Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569421295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:17:01.296Z","updated":"2023-10-06T05:17:01.296Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VPIQRkhHazBJ6zIp8R7u5akdnH0","metadata":{"firebaseStorageDownloadTokens":"2ca9aee3-661a-46e4-b6f2-ed05523a5dad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:17:01.296Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media"}}
[debug] [2023-10-06T05:17:01.304Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:17:01.304Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:17:01.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:17:01.304Z"],"workRunningCount":1}
[debug] [2023-10-06T05:17:01.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:17:01.307Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:17:01.307Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:17:01.307Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:17:01.307Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"9ae275c7-392c-4a9e-bb52-94e55d52f831","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:17:01.296Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569421295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:17:01.296Z","updated":"2023-10-06T05:17:01.296Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VPIQRkhHazBJ6zIp8R7u5akdnH0","metadata":{"firebaseStorageDownloadTokens":"2ca9aee3-661a-46e4-b6f2-ed05523a5dad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:17:01.296Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media"}}
[debug] [2023-10-06T05:17:01.308Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:17:01.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:17:01.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:17:01.308Z"],"workRunningCount":1}
[debug] [2023-10-06T05:17:01.309Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:17:01.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:17:01.309Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:17:01.309Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:17:01.316Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:17:01.316Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:17:01.322Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:17:01.322Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:17:02.026Z] [runtime-status] [11690] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:17:02.028Z] [runtime-status] [11690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:17:02.028Z] [runtime-status] [11690] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:17:02.028Z] [runtime-status] [11690] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:17:02.028Z] [runtime-status] [11690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:17:02.145Z] [runtime-status] [11690] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:17:02.145Z] [runtime-status] [11690] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:17:02.145Z] [runtime-status] [11690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:17:02.147Z] [runtime-status] [11690] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:17:02.148Z] [runtime-status] [11690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:17:02.148Z] [runtime-status] [11690] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:17:02.210Z] [runtime-status] [11690] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:17:02.210Z] [runtime-status] [11690] Listening to port: /tmp/fire_emu_2394371007a40b64.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] Listening to port: /tmp/fire_emu_2394371007a40b64.sock"}}
[debug] [2023-10-06T05:17:02.226Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: IDLE"}}
[debug] [2023-10-06T05:17:02.227Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:17:02.227Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: BUSY"}}
[debug] [2023-10-06T05:17:02.235Z] [runtime-status] [11690] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569421295","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:17:01.296Z","updated":"2023-10-06T05:17:01.296Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VPIQRkhHazBJ6zIp8R7u5akdnH0","metadata":{"firebaseStorageDownloadTokens":"2ca9aee3-661a-46e4-b6f2-ed05523a5dad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:17:01.296Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media"},"context":{"eventId":"1696569421301","timestamp":"2023-10-06T05:17:01.301Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [11690] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569421295\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:17:01.296Z\",\"updated\":\"2023-10-06T05:17:01.296Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"VPIQRkhHazBJ6zIp8R7u5akdnH0\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"2ca9aee3-661a-46e4-b6f2-ed05523a5dad\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:17:01.296Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media\"},\"context\":{\"eventId\":\"1696569421301\",\"timestamp\":\"2023-10-06T05:17:01.301Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569421295', {"user":"  generation: '1696569421295',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569421295',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:17:01.296Z', {"user":"  timeCreated: '2023-10-06T05:17:01.296Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:17:01.296Z',"}}
[info] >    updated: '2023-10-06T05:17:01.296Z', {"user":"  updated: '2023-10-06T05:17:01.296Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:17:01.296Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'VPIQRkhHazBJ6zIp8R7u5akdnH0', {"user":"  etag: 'VPIQRkhHazBJ6zIp8R7u5akdnH0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'VPIQRkhHazBJ6zIp8R7u5akdnH0',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: '2ca9aee3-661a-46e4-b6f2-ed05523a5dad' {"user":"    firebaseStorageDownloadTokens: '2ca9aee3-661a-46e4-b6f2-ed05523a5dad'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: '2ca9aee3-661a-46e4-b6f2-ed05523a5dad'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:17:01.296Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:17:01.296Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:17:01.296Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    background: "With a Bachelor's degree in Physics and a strong background in software engineering, I have proven expertise in developing and optimizing software solutions. I have experience working in both remote and in-person settings and have contributed to the success of multiple companies, including Kraftful, Onward Delivery, and Miami Dev Shop.", {"user":"  background: \"With a Bachelor's degree in Physics and a strong background in software engineering, I have proven expertise in developing and optimizing software solutions. I have experience working in both remote and in-person settings and have contributed to the success of multiple companies, including Kraftful, Onward Delivery, and Miami Dev Shop.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   background: \"With a Bachelor's degree in Physics and a strong background in software engineering, I have proven expertise in developing and optimizing software solutions. I have experience working in both remote and in-person settings and have contributed to the success of multiple companies, including Kraftful, Onward Delivery, and Miami Dev Shop.\","}}
[info] >    skills: 'My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.', {"user":"  skills: 'My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   skills: 'My key skills include proficiency in Typescript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.',"}}
[info] >    experience: 'In my most recent role as a Founding Software Engineer at Kraftful, I collaborated with the team to optimize the Large Language Model (LLM) core functionality, resulting in a successful Product Hunt launch that attracted thousands of new users. I also designed and implemented a distributed recursive algorithm using BullMQ, achieving a significant increase in data ingestion rates for CSV data sources. Additionally, I developed robust end-to-end tests using Docker, GitHub Actions, and Playwright to improve overall system reliability and integrated Slack notifications into a Blitz.js application to enhance communication efficiency. In my previous roles at Onward Delivery and Miami Dev Shop, I played a key role in scaling the product, developed REST APIs, engineered ETL pipelines, conducted peer code reviews, maintained and enhanced web applications, and optimized database queries.' {"user":"  experience: 'In my most recent role as a Founding Software Engineer at Kraftful, I collaborated with the team to optimize the Large Language Model (LLM) core functionality, resulting in a successful Product Hunt launch that attracted thousands of new users. I also designed and implemented a distributed recursive algorithm using BullMQ, achieving a significant increase in data ingestion rates for CSV data sources. Additionally, I developed robust end-to-end tests using Docker, GitHub Actions, and Playwright to improve overall system reliability and integrated Slack notifications into a Blitz.js application to enhance communication efficiency. In my previous roles at Onward Delivery and Miami Dev Shop, I played a key role in scaling the product, developed REST APIs, engineered ETL pipelines, conducted peer code reviews, maintained and enhanced web applications, and optimized database queries.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   experience: 'In my most recent role as a Founding Software Engineer at Kraftful, I collaborated with the team to optimize the Large Language Model (LLM) core functionality, resulting in a successful Product Hunt launch that attracted thousands of new users. I also designed and implemented a distributed recursive algorithm using BullMQ, achieving a significant increase in data ingestion rates for CSV data sources. Additionally, I developed robust end-to-end tests using Docker, GitHub Actions, and Playwright to improve overall system reliability and integrated Slack notifications into a Blitz.js application to enhance communication efficiency. In my previous roles at Onward Delivery and Miami Dev Shop, I played a key role in scaling the product, developed REST APIs, engineered ETL pipelines, conducted peer code reviews, maintained and enhanced web applications, and optimized database queries.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T05:17:22.319Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 20092.2217ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 20092.2217ms"}}
[debug] [2023-10-06T05:17:22.319Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: IDLE"}}
[debug] [2023-10-06T05:17:22.320Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:17:22.320Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:17:22.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:21:30.060Z] File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/elvis/cover-letter-generator/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-06T05:21:31.061Z] Validating nodejs source
[debug] [2023-10-06T05:21:31.621Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions,auth,database,storage --import ../private/emulator_data --export-on-exit ../private/emulator_data",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^4.11.1",
    "pdf-parse": "^1.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-06T05:21:31.621Z] Building nodejs source
[debug] [2023-10-06T05:21:31.621Z] Failed to find version of module node: reached end of search path /home/elvis/cover-letter-generator/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-06T05:21:31.622Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-06T05:21:31.623Z] Found firebase-functions binary at '/home/elvis/cover-letter-generator/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8729

[debug] [2023-10-06T05:21:31.919Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"onAuthUserCreate":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/cover-letter-generator-8a059"},"retry":false},"labels":{},"entryPoint":"onAuthUserCreate"},"saveOpenAiApiKey":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveOpenAiApiKey"},"analyzeResumeOnUpload":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/cover-letter-generator-8a059.appspot.com"},"retry":false},"labels":{},"entryPoint":"analyzeResumeOnUpload"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, onAuthUserCreate, saveOpenAiApiKey, analyzeResumeOnUpload."}}
[debug] [2023-10-06T05:21:31.928Z] [worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:21:31.929Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: FINISHING"}}
[debug] [2023-10-06T05:21:31.935Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: exited"}}
[debug] [2023-10-06T05:21:31.935Z] [worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-5ea0de8e-ba21-41b1-9bc4-077c664212f8]: FINISHED"}}
[debug] [2023-10-06T05:23:03.995Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:23:03.995Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569783995","timestamp":"2023-10-06T05:23:03.995Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569421295","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:17:01.296Z","updated":"2023-10-06T05:17:01.296Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VPIQRkhHazBJ6zIp8R7u5akdnH0","metadata":{"firebaseStorageDownloadTokens":"2ca9aee3-661a-46e4-b6f2-ed05523a5dad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:17:01.296Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media"}}
[debug] [2023-10-06T05:23:04.000Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:23:04.000Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:23:04.000Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:23:04.000Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"ce4a13ac-601c-47e2-991b-52ddc367a0e0","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:17:01.296Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569421295","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:17:01.296Z","updated":"2023-10-06T05:17:01.296Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"VPIQRkhHazBJ6zIp8R7u5akdnH0","metadata":{"firebaseStorageDownloadTokens":"2ca9aee3-661a-46e4-b6f2-ed05523a5dad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:17:01.296Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569421295","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569421295&alt=media"}}
[debug] [2023-10-06T05:23:04.004Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:23:04.004Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:23:04.014Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:23:04.014Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696569784014","timestamp":"2023-10-06T05:23:04.014Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569784006","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:23:04.006Z","updated":"2023-10-06T05:23:04.006Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"NYFHOrikOVghVwggF9Ld8BWdDx0","metadata":{"firebaseStorageDownloadTokens":"ebda9a65-c558-4544-8f9f-26cdde2d204c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:23:04.006Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media"}}
[debug] [2023-10-06T05:23:04.017Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:23:04.017Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:23:04.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:23:04.017Z"],"workRunningCount":1}
[debug] [2023-10-06T05:23:04.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:23:04.019Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:23:04.020Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:23:04.020Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:23:04.020Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"ad7ec467-2b49-41c2-9154-c87643315315","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:23:04.006Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569784006","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:23:04.006Z","updated":"2023-10-06T05:23:04.006Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"NYFHOrikOVghVwggF9Ld8BWdDx0","metadata":{"firebaseStorageDownloadTokens":"ebda9a65-c558-4544-8f9f-26cdde2d204c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:23:04.006Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media"}}
[debug] [2023-10-06T05:23:04.021Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:23:04.021Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:23:04.021Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:23:04.021Z"],"workRunningCount":1}
[debug] [2023-10-06T05:23:04.021Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:23:04.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:23:04.022Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:23:04.022Z] [worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-analyzeResumeOnUpload: 1 --> 0"}}
[debug] [2023-10-06T05:23:04.029Z] [worker-pool] addWorker(us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-analyzeResumeOnUpload)"}}
[debug] [2023-10-06T05:23:04.030Z] [worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-analyzeResumeOnUpload, total=1"}}
[debug] [2023-10-06T05:23:04.033Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:23:04.033Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:23:04.748Z] [runtime-status] [13115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:23:04.750Z] [runtime-status] [13115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:23:04.750Z] [runtime-status] [13115] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Found local functions config: /home/elvis/cover-letter-generator/functions/.runtimeconfig.json"}}
[debug] [2023-10-06T05:23:04.750Z] [runtime-status] [13115] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-06T05:23:04.751Z] [runtime-status] [13115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:23:04.875Z] [runtime-status] [13115] Checked functions.config() {"config":{"OPENAI":{"API_KEY":"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"},"SECRETS":{"ENCRYPTION_KEY":"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Checked functions.config() {\"config\":{\"OPENAI\":{\"API_KEY\":\"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\"},\"SECRETS\":{\"ENCRYPTION_KEY\":\"cdd7350d92c185a9f184eff33dc7afda8b8df8ddfd79d3ca34418ab18b954d40\"}}}"}}
[debug] [2023-10-06T05:23:04.876Z] [runtime-status] [13115] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-06T05:23:04.877Z] [runtime-status] [13115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:23:04.877Z] [runtime-status] [13115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-06T05:23:04.879Z] [runtime-status] [13115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-06T05:23:04.879Z] [runtime-status] [13115] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/elvis/cover-letter-generator/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-06T05:23:04.947Z] [runtime-status] [13115] Functions runtime initialized. {"cwd":"/home/elvis/cover-letter-generator/functions","node_version":"18.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Functions runtime initialized. {\"cwd\":\"/home/elvis/cover-letter-generator/functions\",\"node_version\":\"18.18.0\"}"}}
[debug] [2023-10-06T05:23:04.947Z] [runtime-status] [13115] Listening to port: /tmp/fire_emu_30856ef29085ecff.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] Listening to port: /tmp/fire_emu_30856ef29085ecff.sock"}}
[debug] [2023-10-06T05:23:05.043Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE"}}
[debug] [2023-10-06T05:23:05.043Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:23:05.043Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY"}}
[debug] [2023-10-06T05:23:05.052Z] [runtime-status] [13115] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569784006","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:23:04.006Z","updated":"2023-10-06T05:23:04.006Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"NYFHOrikOVghVwggF9Ld8BWdDx0","metadata":{"firebaseStorageDownloadTokens":"ebda9a65-c558-4544-8f9f-26cdde2d204c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:23:04.006Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media"},"context":{"eventId":"1696569784014","timestamp":"2023-10-06T05:23:04.014Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696569784006\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:23:04.006Z\",\"updated\":\"2023-10-06T05:23:04.006Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"NYFHOrikOVghVwggF9Ld8BWdDx0\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"ebda9a65-c558-4544-8f9f-26cdde2d204c\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:23:04.006Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media\"},\"context\":{\"eventId\":\"1696569784014\",\"timestamp\":\"2023-10-06T05:23:04.014Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696569784006', {"user":"  generation: '1696569784006',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696569784006',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:23:04.006Z', {"user":"  timeCreated: '2023-10-06T05:23:04.006Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:23:04.006Z',"}}
[info] >    updated: '2023-10-06T05:23:04.006Z', {"user":"  updated: '2023-10-06T05:23:04.006Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:23:04.006Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'NYFHOrikOVghVwggF9Ld8BWdDx0', {"user":"  etag: 'NYFHOrikOVghVwggF9Ld8BWdDx0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'NYFHOrikOVghVwggF9Ld8BWdDx0',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'ebda9a65-c558-4544-8f9f-26cdde2d204c' {"user":"    firebaseStorageDownloadTokens: 'ebda9a65-c558-4544-8f9f-26cdde2d204c'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'ebda9a65-c558-4544-8f9f-26cdde2d204c'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:23:04.006Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:23:04.006Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:23:04.006Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.openai.com/v1/chat/completions"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.openai.com/v1/chat/completions\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    background: 'Elvis Hernandez is a software engineer with a B.S. in Physics from Florida International University. He has a strong background in Typescript, JavaScript, Python, Ruby, HTML/CSS, and SQL, and has experience working with AWS, GCP, and Docker. Elvis has worked on optimizing Large Language Model (LLM) functionality, developed distributed algorithms, and integrated Slack notifications into applications.', {"user":"  background: 'Elvis Hernandez is a software engineer with a B.S. in Physics from Florida International University. He has a strong background in Typescript, JavaScript, Python, Ruby, HTML/CSS, and SQL, and has experience working with AWS, GCP, and Docker. Elvis has worked on optimizing Large Language Model (LLM) functionality, developed distributed algorithms, and integrated Slack notifications into applications.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   background: 'Elvis Hernandez is a software engineer with a B.S. in Physics from Florida International University. He has a strong background in Typescript, JavaScript, Python, Ruby, HTML/CSS, and SQL, and has experience working with AWS, GCP, and Docker. Elvis has worked on optimizing Large Language Model (LLM) functionality, developed distributed algorithms, and integrated Slack notifications into applications.',"}}
[info] >    skills: 'Key skills include Typescript, JavaScript (NodeJS, ExpressJS, ReactJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.', {"user":"  skills: 'Key skills include Typescript, JavaScript (NodeJS, ExpressJS, ReactJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   skills: 'Key skills include Typescript, JavaScript (NodeJS, ExpressJS, ReactJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.',"}}
[info] >    experience: 'Elvis has worked as a Founding Software Engineer at Kraftful, where he optimized Large Language Model (LLM) functionality, implemented distributed algorithms, developed end-to-end tests, and integrated Slack notifications. He also has experience as a Software Engineer at Onward Delivery, where he developed a REST API, engineered an ETL pipeline, and conducted peer code reviews. Additionally, he has worked as a Software Engineer at Miami Dev Shop, maintaining a web application, developing Infrastructure as Code templates, optimizing SQL queries, and implementing automated testing and deployment pipelines.' {"user":"  experience: 'Elvis has worked as a Founding Software Engineer at Kraftful, where he optimized Large Language Model (LLM) functionality, implemented distributed algorithms, developed end-to-end tests, and integrated Slack notifications. He also has experience as a Software Engineer at Onward Delivery, where he developed a REST API, engineered an ETL pipeline, and conducted peer code reviews. Additionally, he has worked as a Software Engineer at Miami Dev Shop, maintaining a web application, developing Infrastructure as Code templates, optimizing SQL queries, and implementing automated testing and deployment pipelines.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   experience: 'Elvis has worked as a Founding Software Engineer at Kraftful, where he optimized Large Language Model (LLM) functionality, implemented distributed algorithms, developed end-to-end tests, and integrated Slack notifications. He also has experience as a Software Engineer at Onward Delivery, where he developed a REST API, engineered an ETL pipeline, and conducted peer code reviews. Additionally, he has worked as a Software Engineer at Miami Dev Shop, maintaining a web application, developing Infrastructure as Code templates, optimizing SQL queries, and implementing automated testing and deployment pipelines.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T05:23:21.869Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 16825.7953ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 16825.7953ms"}}
[debug] [2023-10-06T05:23:21.869Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE"}}
[debug] [2023-10-06T05:23:21.870Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:23:21.870Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:23:21.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:23:54.187Z] 01:23:54.185 [FirebaseWorkerPool-1-3] WARN com.firebase.core.persistence.backend.dummy.EmulatorMetadataPersistence - Multiple projectIds are not recommended in single project mode. Requested 
namespace cover-letter-generator-8a059, but the emulator is configured for cover-letter-generator-8a059-default-rtdb. To 
opt-out of single project mode add/set the singleProjectMode: false property in 
the firebase.json emulators config. 
 {"metadata":{"emulator":{"name":"database"},"message":"01:23:54.185 [FirebaseWorkerPool-1-3] WARN com.firebase.core.persistence.backend.dummy.EmulatorMetadataPersistence - Multiple projectIds are not recommended in single project mode. Requested \nnamespace cover-letter-generator-8a059, but the emulator is configured for cover-letter-generator-8a059-default-rtdb. To \nopt-out of single project mode add/set the singleProjectMode: false property in \nthe firebase.json emulators config. \n"}}
[debug] [2023-10-06T05:23:54.203Z] 01:23:54.202 [NamespaceSystem-akka.actor.default-dispatcher-75] INFO com.firebase.core.namespace.NamespaceActor - cover-letter-generator-8a059 successfully activated FBKV (SurveyIdle(0)) wait: 6ms, init: 0ms
 {"metadata":{"emulator":{"name":"database"},"message":"01:23:54.202 [NamespaceSystem-akka.actor.default-dispatcher-75] INFO com.firebase.core.namespace.NamespaceActor - cover-letter-generator-8a059 successfully activated FBKV (SurveyIdle(0)) wait: 6ms, init: 0ms\n"}}
[debug] [2023-10-06T05:27:32.205Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:27:32.206Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696570052205","timestamp":"2023-10-06T05:27:32.205Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569784006","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:23:04.006Z","updated":"2023-10-06T05:23:04.006Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"NYFHOrikOVghVwggF9Ld8BWdDx0","metadata":{"firebaseStorageDownloadTokens":"ebda9a65-c558-4544-8f9f-26cdde2d204c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:23:04.006Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media"}}
[debug] [2023-10-06T05:27:32.211Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:27:32.211Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:27:32.211Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:27:32.211Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"36ec5ae8-d5f9-485d-adb3-14c30e40e5e9","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:23:04.006Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696569784006","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:23:04.006Z","updated":"2023-10-06T05:23:04.006Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"NYFHOrikOVghVwggF9Ld8BWdDx0","metadata":{"firebaseStorageDownloadTokens":"ebda9a65-c558-4544-8f9f-26cdde2d204c"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:23:04.006Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696569784006","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696569784006&alt=media"}}
[debug] [2023-10-06T05:27:32.218Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:27:32.218Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:27:32.221Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:27:32.221Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696570052221","timestamp":"2023-10-06T05:27:32.221Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696570052217","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:27:32.217Z","updated":"2023-10-06T05:27:32.217Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"V7iqh8D4chDk0ccFFn9QxGjWbZw","metadata":{"firebaseStorageDownloadTokens":"d3daac1a-923a-4036-a10b-11328a356cad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:27:32.217Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media"}}
[debug] [2023-10-06T05:27:32.223Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:27:32.223Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:27:32.224Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T05:27:32.223Z"],"workRunningCount":1}
[debug] [2023-10-06T05:27:32.224Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:27:32.225Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:27:32.225Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:27:32.225Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T05:27:32.225Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"7bb56af0-48b5-4919-b13d-f410ac3fedfa","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:27:32.217Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696570052217","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:27:32.217Z","updated":"2023-10-06T05:27:32.217Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"V7iqh8D4chDk0ccFFn9QxGjWbZw","metadata":{"firebaseStorageDownloadTokens":"d3daac1a-923a-4036-a10b-11328a356cad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:27:32.217Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media"}}
[debug] [2023-10-06T05:27:32.227Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:27:32.227Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T05:27:32.227Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T05:27:32.227Z"],"workRunningCount":1}
[debug] [2023-10-06T05:27:32.227Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T05:27:32.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T05:27:32.227Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T05:27:32.228Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T05:27:32.228Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY"}}
[debug] [2023-10-06T05:27:32.230Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T05:27:32.230Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T05:27:32.233Z] [runtime-status] [13115] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696570052217","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T05:27:32.217Z","updated":"2023-10-06T05:27:32.217Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"V7iqh8D4chDk0ccFFn9QxGjWbZw","metadata":{"firebaseStorageDownloadTokens":"d3daac1a-923a-4036-a10b-11328a356cad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:27:32.217Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media"},"context":{"eventId":"1696570052221","timestamp":"2023-10-06T05:27:32.221Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696570052217\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T05:27:32.217Z\",\"updated\":\"2023-10-06T05:27:32.217Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"V7iqh8D4chDk0ccFFn9QxGjWbZw\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"d3daac1a-923a-4036-a10b-11328a356cad\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T05:27:32.217Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media\"},\"context\":{\"eventId\":\"1696570052221\",\"timestamp\":\"2023-10-06T05:27:32.221Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696570052217', {"user":"  generation: '1696570052217',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696570052217',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T05:27:32.217Z', {"user":"  timeCreated: '2023-10-06T05:27:32.217Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T05:27:32.217Z',"}}
[info] >    updated: '2023-10-06T05:27:32.217Z', {"user":"  updated: '2023-10-06T05:27:32.217Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T05:27:32.217Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'V7iqh8D4chDk0ccFFn9QxGjWbZw', {"user":"  etag: 'V7iqh8D4chDk0ccFFn9QxGjWbZw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'V7iqh8D4chDk0ccFFn9QxGjWbZw',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'd3daac1a-923a-4036-a10b-11328a356cad' {"user":"    firebaseStorageDownloadTokens: 'd3daac1a-923a-4036-a10b-11328a356cad'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'd3daac1a-923a-4036-a10b-11328a356cad'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T05:27:32.217Z', {"user":"  timeStorageClassUpdated: '2023-10-06T05:27:32.217Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T05:27:32.217Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    background: 'Based on your educational background in physics and your work experience as a software engineer, you have a strong technical foundation combined with problem-solving skills. You have experience working in different roles, from founding software engineer to software engineer II, and have contributed to the growth and success of various projects and companies.', {"user":"  background: 'Based on your educational background in physics and your work experience as a software engineer, you have a strong technical foundation combined with problem-solving skills. You have experience working in different roles, from founding software engineer to software engineer II, and have contributed to the growth and success of various projects and companies.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   background: 'Based on your educational background in physics and your work experience as a software engineer, you have a strong technical foundation combined with problem-solving skills. You have experience working in different roles, from founding software engineer to software engineer II, and have contributed to the growth and success of various projects and companies.',"}}
[info] >    skills: 'Your key skills include proficiency in Typescript, Javascript, ReactJS, React Native, HTML5/CSS, Python, Ruby on Rails, SQL, AWS, GCP, Firebase, Linux, Git, Docker, Terraform, and GPT. Your skillset showcases a wide range of programming languages, frameworks, and tools that are essential for software development.', {"user":"  skills: 'Your key skills include proficiency in Typescript, Javascript, ReactJS, React Native, HTML5/CSS, Python, Ruby on Rails, SQL, AWS, GCP, Firebase, Linux, Git, Docker, Terraform, and GPT. Your skillset showcases a wide range of programming languages, frameworks, and tools that are essential for software development.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   skills: 'Your key skills include proficiency in Typescript, Javascript, ReactJS, React Native, HTML5/CSS, Python, Ruby on Rails, SQL, AWS, GCP, Firebase, Linux, Git, Docker, Terraform, and GPT. Your skillset showcases a wide range of programming languages, frameworks, and tools that are essential for software development.',"}}
[info] >    experience: 'Some of your most relevant work experiences and accomplishments include optimizing the Large Language Model (LLM) core functionality, achieving a 10x increase in data ingestion rates using BullMQ, developing robust end-to-end tests, integrating Slack notifications into a Blitz.js application, and contributing to the growth and success of Onward Delivery, a Techstars-backed SaaS company. You have also demonstrated your ability to maintain and enhance web applications, develop Infrastructure as Code templates, optimize database queries, and implement automated testing and deployment pipelines.' {"user":"  experience: 'Some of your most relevant work experiences and accomplishments include optimizing the Large Language Model (LLM) core functionality, achieving a 10x increase in data ingestion rates using BullMQ, developing robust end-to-end tests, integrating Slack notifications into a Blitz.js application, and contributing to the growth and success of Onward Delivery, a Techstars-backed SaaS company. You have also demonstrated your ability to maintain and enhance web applications, develop Infrastructure as Code templates, optimize database queries, and implement automated testing and deployment pipelines.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   experience: 'Some of your most relevant work experiences and accomplishments include optimizing the Large Language Model (LLM) core functionality, achieving a 10x increase in data ingestion rates using BullMQ, developing robust end-to-end tests, integrating Slack notifications into a Blitz.js application, and contributing to the growth and success of Onward Delivery, a Techstars-backed SaaS company. You have also demonstrated your ability to maintain and enhance web applications, develop Infrastructure as Code templates, optimize database queries, and implement automated testing and deployment pipelines.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T05:27:47.477Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 15248.9119ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 15248.9119ms"}}
[debug] [2023-10-06T05:27:47.477Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE"}}
[debug] [2023-10-06T05:27:47.477Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T05:27:47.478Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T05:27:47.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T06:29:00.560Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T06:29:00.563Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696573740560","timestamp":"2023-10-06T06:29:00.560Z","eventType":"google.storage.object.delete","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696570052217","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:27:32.217Z","updated":"2023-10-06T05:27:32.217Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"V7iqh8D4chDk0ccFFn9QxGjWbZw","metadata":{"firebaseStorageDownloadTokens":"d3daac1a-923a-4036-a10b-11328a356cad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:27:32.217Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media"}}
[debug] [2023-10-06T06:29:00.568Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T06:29:00.568Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T06:29:00.568Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T06:29:00.568Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"5e3c3a72-8d0c-4e92-82f8-f310ec35e701","type":"google.cloud.storage.object.v1.deleted","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T05:27:32.217Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696570052217","metageneration":"1","contentType":"application/pdf","contentDisposition":"inline","timeCreated":"2023-10-06T05:27:32.217Z","updated":"2023-10-06T05:27:32.217Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"V7iqh8D4chDk0ccFFn9QxGjWbZw","metadata":{"firebaseStorageDownloadTokens":"d3daac1a-923a-4036-a10b-11328a356cad"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T05:27:32.217Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696570052217","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696570052217&alt=media"}}
[debug] [2023-10-06T06:29:00.572Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T06:29:00.572Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T06:29:00.582Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T06:29:00.582Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"eventId":"1696573740579","timestamp":"2023-10-06T06:29:00.579Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"},"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696573740575","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T06:29:00.575Z","updated":"2023-10-06T06:29:00.575Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"fC6vJCoipaXNI3Iu3GrFYBDivz0","metadata":{"firebaseStorageDownloadTokens":"a81991cb-b106-4c36-95f2-86acefae5769"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T06:29:00.575Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media"}}
[debug] [2023-10-06T06:29:00.585Z] [work-queue] {"queuedWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T06:29:00.585Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T06:29:00.585Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-analyzeResumeOnUpload-0-2023-10-06T06:29:00.585Z"],"workRunningCount":1}
[debug] [2023-10-06T06:29:00.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T06:29:00.587Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T06:29:00.587Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T06:29:00.587Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast [none]
[debug] [2023-10-06T06:29:00.587Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"specversion":"1.0","id":"7a18143b-05e8-49ea-b067-8eab8999e841","type":"google.cloud.storage.object.v1.finalized","source":"//storage.googleapis.com/projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","time":"2023-10-06T06:29:00.575Z","data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696573740575","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T06:29:00.575Z","updated":"2023-10-06T06:29:00.575Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"fC6vJCoipaXNI3Iu3GrFYBDivz0","metadata":{"firebaseStorageDownloadTokens":"a81991cb-b106-4c36-95f2-86acefae5769"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T06:29:00.575Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media"}}
[debug] [2023-10-06T06:29:00.588Z] [work-queue] {"queuedWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T06:29:00.588Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-06T06:29:00.588Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0-2023-10-06T06:29:00.588Z"],"workRunningCount":1}
[debug] [2023-10-06T06:29:00.588Z] Accepted request POST /functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0 --> us-central1-analyzeResumeOnUpload-0
[debug] [2023-10-06T06:29:00.589Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-06T06:29:00.589Z] [functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/cover-letter-generator-8a059/triggers/us-central1-analyzeResumeOnUpload-0, mapping to path=/functions/projects/"}}
[debug] [2023-10-06T06:29:00.589Z] [worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-analyzeResumeOnUpload)"}}
[info] i  functions: Beginning execution of "us-central1-analyzeResumeOnUpload" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Beginning execution of \"us-central1-analyzeResumeOnUpload\""}}
[debug] [2023-10-06T06:29:00.590Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: BUSY"}}
[debug] [2023-10-06T06:29:00.593Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast 200
[debug] [2023-10-06T06:29:00.593Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/cover-letter-generator-8a059/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2023-10-06T06:29:00.598Z] [runtime-status] [13115] RunBackground {"data":{"kind":"storage#object","name":"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","bucket":"cover-letter-generator-8a059.appspot.com","generation":"1696573740575","metageneration":"1","contentType":"application/pdf","timeCreated":"2023-10-06T06:29:00.575Z","updated":"2023-10-06T06:29:00.575Z","storageClass":"STANDARD","size":"42794","md5Hash":"n2jR/3g+6DGHysfEsCjxEg==","etag":"fC6vJCoipaXNI3Iu3GrFYBDivz0","metadata":{"firebaseStorageDownloadTokens":"a81991cb-b106-4c36-95f2-86acefae5769"},"crc32c":"J6fPig==","timeStorageClassUpdated":"2023-10-06T06:29:00.575Z","id":"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575","selfLink":"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf","mediaLink":"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media"},"context":{"eventId":"1696573740579","timestamp":"2023-10-06T06:29:00.579Z","eventType":"google.storage.object.finalize","resource":{"service":"storage.googleapis.com","name":"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf","type":"storage#object"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[runtime-status] [13115] RunBackground {\"data\":{\"kind\":\"storage#object\",\"name\":\"resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"bucket\":\"cover-letter-generator-8a059.appspot.com\",\"generation\":\"1696573740575\",\"metageneration\":\"1\",\"contentType\":\"application/pdf\",\"timeCreated\":\"2023-10-06T06:29:00.575Z\",\"updated\":\"2023-10-06T06:29:00.575Z\",\"storageClass\":\"STANDARD\",\"size\":\"42794\",\"md5Hash\":\"n2jR/3g+6DGHysfEsCjxEg==\",\"etag\":\"fC6vJCoipaXNI3Iu3GrFYBDivz0\",\"metadata\":{\"firebaseStorageDownloadTokens\":\"a81991cb-b106-4c36-95f2-86acefae5769\"},\"crc32c\":\"J6fPig==\",\"timeStorageClassUpdated\":\"2023-10-06T06:29:00.575Z\",\"id\":\"cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575\",\"selfLink\":\"http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf\",\"mediaLink\":\"http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media\"},\"context\":{\"eventId\":\"1696573740579\",\"timestamp\":\"2023-10-06T06:29:00.579Z\",\"eventType\":\"google.storage.object.finalize\",\"resource\":{\"service\":\"storage.googleapis.com\",\"name\":\"projects/_/buckets/cover-letter-generator-8a059.appspot.com/objects/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf\",\"type\":\"storage#object\"}}}"}}
[info] >  In the analyzeResumeOnUpload function {"user":"In the analyzeResumeOnUpload function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m In the analyzeResumeOnUpload function"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    kind: 'storage#object', {"user":"  kind: 'storage#object',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   kind: 'storage#object',"}}
[info] >    name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf', {"user":"  name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf',"}}
[info] >    bucket: 'cover-letter-generator-8a059.appspot.com', {"user":"  bucket: 'cover-letter-generator-8a059.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   bucket: 'cover-letter-generator-8a059.appspot.com',"}}
[info] >    generation: '1696573740575', {"user":"  generation: '1696573740575',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   generation: '1696573740575',"}}
[info] >    metageneration: '1', {"user":"  metageneration: '1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metageneration: '1',"}}
[info] >    contentType: 'application/pdf', {"user":"  contentType: 'application/pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   contentType: 'application/pdf',"}}
[info] >    timeCreated: '2023-10-06T06:29:00.575Z', {"user":"  timeCreated: '2023-10-06T06:29:00.575Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeCreated: '2023-10-06T06:29:00.575Z',"}}
[info] >    updated: '2023-10-06T06:29:00.575Z', {"user":"  updated: '2023-10-06T06:29:00.575Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated: '2023-10-06T06:29:00.575Z',"}}
[info] >    storageClass: 'STANDARD', {"user":"  storageClass: 'STANDARD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageClass: 'STANDARD',"}}
[info] >    size: '42794', {"user":"  size: '42794',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   size: '42794',"}}
[info] >    md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==', {"user":"  md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   md5Hash: 'n2jR/3g+6DGHysfEsCjxEg==',"}}
[info] >    etag: 'fC6vJCoipaXNI3Iu3GrFYBDivz0', {"user":"  etag: 'fC6vJCoipaXNI3Iu3GrFYBDivz0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   etag: 'fC6vJCoipaXNI3Iu3GrFYBDivz0',"}}
[info] >    metadata: { {"user":"  metadata: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {"}}
[info] >      firebaseStorageDownloadTokens: 'a81991cb-b106-4c36-95f2-86acefae5769' {"user":"    firebaseStorageDownloadTokens: 'a81991cb-b106-4c36-95f2-86acefae5769'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m     firebaseStorageDownloadTokens: 'a81991cb-b106-4c36-95f2-86acefae5769'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    crc32c: 'J6fPig==', {"user":"  crc32c: 'J6fPig==',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   crc32c: 'J6fPig==',"}}
[info] >    timeStorageClassUpdated: '2023-10-06T06:29:00.575Z', {"user":"  timeStorageClassUpdated: '2023-10-06T06:29:00.575Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   timeStorageClassUpdated: '2023-10-06T06:29:00.575Z',"}}
[info] >    id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575', {"user":"  id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cover-letter-generator-8a059.appspot.com/resumes/XQgHUUgUyOVjsnx8IcarRTFyKWbO/resume.pdf/1696573740575',"}}
[info] >    selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf', {"user":"  selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   selfLink: 'http://127.0.0.1:9199/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf',"}}
[info] >    mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media' {"user":"  mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   mediaLink: 'http://127.0.0.1:9199/download/storage/v1/b/cover-letter-generator-8a059.appspot.com/o/resumes%2FXQgHUUgUyOVjsnx8IcarRTFyKWbO%2Fresume.pdf?generation=1696573740575&alt=media'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    background: "Elvis Hernandez is a software engineer with a Bachelor's degree in Physics. He has a strong background in various programming languages and frameworks, including Typescript, JavaScript, Python, and Ruby. Elvis has experience working on large-scale projects and has played a key role in optimizing functionalities and achieving successful product launches.", {"user":"  background: \"Elvis Hernandez is a software engineer with a Bachelor's degree in Physics. He has a strong background in various programming languages and frameworks, including Typescript, JavaScript, Python, and Ruby. Elvis has experience working on large-scale projects and has played a key role in optimizing functionalities and achieving successful product launches.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   background: \"Elvis Hernandez is a software engineer with a Bachelor's degree in Physics. He has a strong background in various programming languages and frameworks, including Typescript, JavaScript, Python, and Ruby. Elvis has experience working on large-scale projects and has played a key role in optimizing functionalities and achieving successful product launches.\","}}
[info] >    skills: "Elvis's key skills include TypeScript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.", {"user":"  skills: \"Elvis's key skills include TypeScript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   skills: \"Elvis's key skills include TypeScript, JavaScript (NodeJS, ExpressJS, ReactJS, React Native, NextJS, BlitzJS), HTML5/CSS, Python (Flask), Ruby (Ruby on Rails), SQL (PostgreSQL, NoSQL), AWS, GCP, Firebase, Linux, Git, Docker, Terraform, GPT (Large Language Model), and BullMQ.\","}}
[info] >    experience: 'In his most relevant work experiences, Elvis served as a Founding Software Engineer at Kraftful, where he collaborated with the engineering team to optimize a Large Language Model (LLM) and achieved a successful product launch. He also designed and implemented a distributed algorithm, resulting in a significant increase in data ingestion rates. Additionally, Elvis played a pivotal role in scaling Onward Delivery from an MVP to a post-seed SaaS company, developing REST APIs, engineering ETL pipelines, and conducting peer reviews to enhance code quality.' {"user":"  experience: 'In his most relevant work experiences, Elvis served as a Founding Software Engineer at Kraftful, where he collaborated with the engineering team to optimize a Large Language Model (LLM) and achieved a successful product launch. He also designed and implemented a distributed algorithm, resulting in a significant increase in data ingestion rates. Additionally, Elvis played a pivotal role in scaling Onward Delivery from an MVP to a post-seed SaaS company, developing REST APIs, engineering ETL pipelines, and conducting peer reviews to enhance code quality.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m   experience: 'In his most relevant work experiences, Elvis served as a Founding Software Engineer at Kraftful, where he collaborated with the engineering team to optimize a Large Language Model (LLM) and achieved a successful product launch. He also designed and implemented a distributed algorithm, resulting in a significant increase in data ingestion rates. Additionally, Elvis played a pivotal role in scaling Onward Delivery from an MVP to a post-seed SaaS company, developing REST APIs, engineering ETL pipelines, and conducting peer reviews to enhance code quality.'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-06T06:29:18.786Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-analyzeResumeOnUpload" in 18196.4551ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finished \"us-central1-analyzeResumeOnUpload\" in 18196.4551ms"}}
[debug] [2023-10-06T06:29:18.787Z] [worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"[worker-us-central1-analyzeResumeOnUpload-6de73816-7669-42b2-a0b9-9357f37b87a3]: IDLE"}}
[debug] [2023-10-06T06:29:18.787Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-06T06:29:18.787Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-analyzeResumeOnUpload"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-06T06:29:18.787Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
